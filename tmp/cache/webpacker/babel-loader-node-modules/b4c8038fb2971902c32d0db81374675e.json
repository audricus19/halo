{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"/Volumes/Work/work/dev/project/projects/halo/app/javascript/src/marketplace/components/NewFundingModal/NewFundingModal.jsx\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { css, StyleSheet } from 'aphrodite';\nimport { Modal, Dropdown, Button, Checkbox, Form, Radio, Icon } from 'semantic-ui-react';\nimport _, { debounce } from 'lodash';\nimport CurrencyInput from 'react-currency-input';\nimport DatePicker from 'react-datepicker';\nimport moment from 'moment';\nimport { COLORS } from '../../../../constants';\nimport { fetchFundings as fetchFundingsAction, toggleFundingModal as toggleFundingModalAction } from '../../actions/profileActions';\nimport { fetchCompanies as fetchCompaniesAction, fetchFoundations as fetchFoundationsAction, fetchGovernmentOrganizations as fetchGovernmentOrganizationsAction } from '../../actions/defaultActions';\nimport { authenticityToken } from '../../utils/requests';\nimport { styles as modalStyles } from '../Modal';\nvar styles = StyleSheet.create({\n  NewFundingModal_modal: {\n    overflow: 'visible'\n  },\n  NewFundingModal_modalFieldLabel: {\n    textAlign: 'left',\n    margin: '10px 0 6px',\n    width: '100%',\n    fontSize: '12px',\n    fontWeight: 500,\n    lineHeight: '16px',\n    color: COLORS.inputLabelGray\n  },\n  NewFundingModal_modalInput: {\n    width: '100%',\n    margin: 'auto',\n    padding: '10px',\n    height: '50px',\n    fontSize: '14px',\n    lineHeight: '20px',\n    borderStyle: 'solid',\n    borderWidth: '1px'\n  },\n  NewFundingModal_modalHeader: {\n    fontWeight: 500,\n    fontSize: '24px',\n    lineHeight: '32px',\n    color: COLORS.lightBlack\n  },\n  NewFundingModal_modalSubheader: {\n    fontSize: '14px',\n    color: COLORS.lightBlack,\n    marginBottom: '32px'\n  },\n  NewFundingModal_datepicker: {\n    width: '100%',\n    height: '50px',\n    padding: '10px',\n    borderStyle: 'solid',\n    borderWidth: '1px',\n    fontSize: '14px'\n  },\n  NewFundingModal_modalSubmitButton: {\n    background: COLORS.lightBlue,\n    backgroundImage: 'linear-gradient(134.72deg, #4E9DF5 0%, #48B2F4 100%)',\n    display: 'inline-block',\n    height: '48px',\n    textAlign: 'center',\n    color: COLORS.white,\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    padding: '5px 50px'\n  },\n  NewFundingModal_dropdown: {\n    width: '100%',\n    height: '48px',\n    fontSize: '14px',\n    display: 'flex',\n    alignItems: 'center',\n    borderRadius: '0px',\n    color: COLORS.defaultText,\n    border: \"1px solid \".concat(COLORS.defaultText)\n  },\n  NewFundingModal_dateDropdown: {\n    width: '48%',\n    height: '48px',\n    fontSize: '14px',\n    display: 'inline-block',\n    alignItems: 'center',\n    borderRadius: '0px',\n    paddingTop: '16px',\n    color: COLORS.defaultText,\n    border: \"1px solid \".concat(COLORS.defaultText)\n  },\n  NewFundingModal_modalButtonHolder: {\n    width: '100%',\n    display: 'inline-block',\n    textAlign: 'right',\n    marginTop: '36px'\n  },\n  NewFundingModal_modalCancelButton: {\n    height: '48px',\n    textAlign: 'center',\n    color: COLORS.lightBlack,\n    backgroundColor: COLORS.white,\n    display: 'inline-block',\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    padding: '5px 50px'\n  },\n  NewFundingModal_textarea: {\n    height: '100px'\n  },\n  NewFundingModal_activeCheckboxLabel: {\n    fontSize: '12px',\n    fontWeight: 500,\n    lineHeight: '16px',\n    color: COLORS.gray,\n    margin: '10px 6px'\n  },\n  NewFundingModal_activeCheckboxWrap: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n    height: '6px'\n  },\n  NewFundingModal_moneyInput: {\n    width: '48%'\n  },\n  NewFundingModal_radioFormField: {\n    paddingRight: '7px',\n    display: 'inline',\n    fontSize: '12px',\n    fontWeight: 500,\n    ':nth-child(1n) input~label:before': {\n      borderWidth: '2px'\n    },\n    ':nth-child(1n) input:checked~label:before': {\n      borderColor: COLORS.blue,\n      borderWidth: '2px'\n    },\n    ':nth-child(1n) input:checked~label:after': {\n      backgroundColor: COLORS.blue\n    }\n  },\n  NewFundingModal_radioInputForm: {\n    display: 'inline-block',\n    marginTop: '10px'\n  },\n  NewFundingModal_radioInputFormLabel: {\n    color: COLORS.inputLabelGray,\n    width: 'unset',\n    marginRight: '10px'\n  },\n  NewFundingModal_radioInput: {\n    ':nth-child(1n) label': {\n      fontSize: '12px',\n      fontWeight: 500,\n      lineHeight: '16px',\n      color: COLORS.inputLabelGray\n    }\n  }\n});\n\nvar yearOptions = _.range(new Date().getFullYear(), 1950, -1).map(function (year) {\n  return {\n    key: year,\n    text: year,\n    value: String(year)\n  };\n});\n\nmoment.locale('en');\nvar monthOptions = moment.monthsShort('-MMM-').map(function (month, index) {\n  return {\n    key: month,\n    text: month,\n    value: String(index + 1)\n  };\n});\nvar nihOptions = gon.nih_grant_types.map(function (nihType) {\n  return {\n    key: nihType,\n    text: nihType,\n    value: nihType\n  };\n});\nvar fundingSourceFieldLabels = {\n  government: \"Agencies\",\n  university: \"Universities\",\n  foundation: \"Foundations\",\n  company: \"Industries\"\n};\nvar defaultState = {\n  fundingModalLoading: false,\n  fundingTitle: '',\n  fundingDescription: '',\n  fundingAmount: undefined,\n  fundingActive: true,\n  fundingSponsor: {},\n  searchQuery: '',\n  location: '',\n  loadingSearch: false,\n  loadingUniversitySearch: false,\n  fundingMonth: undefined,\n  fundingYear: undefined,\n  fundingEndMonth: null,\n  fundingEndYear: null,\n  fundingURL: '',\n  fundingSourceType: '',\n  fundingGrantType: '',\n  universitySearchQuery: '',\n  otherSponsor: '',\n  isAwardRecipient: true\n};\n\nvar NewFundingModal =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(NewFundingModal, _PureComponent);\n\n  function NewFundingModal(props) {\n    var _this;\n\n    _classCallCheck(this, NewFundingModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewFundingModal).call(this, props));\n    _this.companyOptions = [{\n      key: 'other_sponsor',\n      text: 'Other',\n      value: 'Other'\n    }];\n    _this.foundationOptions = [{\n      key: 'other_sponsor',\n      text: 'Other',\n      value: 'Other'\n    }];\n    _this.governmentOrganizationOptions = [{\n      key: 'other_sponsor',\n      text: 'Other',\n      value: 'Other'\n    }];\n    _this.universityOptions = [{\n      key: 'other_sponsor',\n      text: 'Other',\n      value: 'Other'\n    }];\n\n    _this.componentDidUpdate = function (prevProps) {\n      if (prevProps.fundingModalOpen) return; // skip updating state if modal already open\n\n      var _this$props = _this.props,\n          currentFundingId = _this$props.currentFundingId,\n          currentUserId = _this$props.currentUserId,\n          fundings = _this$props.fundings,\n          inEditMode = _this$props.inEditMode,\n          fundingModalOpen = _this$props.fundingModalOpen;\n\n      if (inEditMode) {\n        var _this$setState;\n\n        // when OPENING modal to edit funding\n        var funding = _.find(fundings, ['id', currentFundingId]);\n\n        var startDate = moment.utc(funding.date);\n        var endDate = moment.utc(funding.end_date);\n\n        var sponsorNameKey = _.keys(funding.sponsor).filter(function (key) {\n          return key.match('name');\n        });\n\n        var fundingSponsor = funding.other_sponsor ? {\n          key: 'other_sponsor',\n          text: 'Other',\n          value: 'Other'\n        } : {\n          key: funding.sponsor.id,\n          value: funding.sponsor.id,\n          text: funding.sponsor[sponsorNameKey]\n        };\n\n        _this.setState((_this$setState = {\n          fundingTitle: funding.title,\n          fundingDescription: funding.description,\n          fundingAmount: funding.amount,\n          fundingActive: !funding.end_date,\n          fundingURL: funding.url,\n          fundingSponsor: fundingSponsor,\n          fundingMonth: funding[\"abstract\"],\n          fundingStatus: funding.status\n        }, _defineProperty(_this$setState, \"fundingMonth\", startDate.format('M')), _defineProperty(_this$setState, \"fundingYear\", startDate.format('YYYY')), _defineProperty(_this$setState, \"fundingEndMonth\", endDate.format('M')), _defineProperty(_this$setState, \"fundingEndYear\", endDate.format('YYYY')), _defineProperty(_this$setState, \"fundingSourceType\", funding.sponsor_type), _defineProperty(_this$setState, \"fundingGrantType\", funding.grant_type), _defineProperty(_this$setState, \"otherSponsor\", funding.other_sponsor), _defineProperty(_this$setState, \"isAwardRecipient\", funding.award_recipient_id === currentUserId), _this$setState));\n      } else if (!inEditMode) {\n        // when creating new patent\n        _this.setState(defaultState);\n      }\n    };\n\n    _this.closeModal = function () {\n      _this.setState(defaultState);\n\n      _this.props.toggleFundingModal(false);\n    };\n\n    _this.handleSubmitFunding = function _callee(e) {\n      var _this$props2, fetchFundings, currentUserId, currentFundingId, inEditMode, _this$state, fundingTitle, fundingDescription, fundingAmount, fundingSponsor, fundingMonth, fundingYear, fundingEndMonth, fundingEndYear, fundingActive, fundingURL, fundingSourceType, fundingGrantType, otherSponsor, isAwardRecipient, formData, fundingDate, fundingEndDate, url, fundingResponse, responseJson;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$props2 = _this.props, fetchFundings = _this$props2.fetchFundings, currentUserId = _this$props2.currentUserId, currentFundingId = _this$props2.currentFundingId, inEditMode = _this$props2.inEditMode;\n              e.preventDefault();\n              _this$state = _this.state, fundingTitle = _this$state.fundingTitle, fundingDescription = _this$state.fundingDescription, fundingAmount = _this$state.fundingAmount, fundingSponsor = _this$state.fundingSponsor, fundingMonth = _this$state.fundingMonth, fundingYear = _this$state.fundingYear, fundingEndMonth = _this$state.fundingEndMonth, fundingEndYear = _this$state.fundingEndYear, fundingActive = _this$state.fundingActive, fundingURL = _this$state.fundingURL, fundingSourceType = _this$state.fundingSourceType, fundingGrantType = _this$state.fundingGrantType, otherSponsor = _this$state.otherSponsor, isAwardRecipient = _this$state.isAwardRecipient;\n\n              _this.setState({\n                fundingModalLoading: true\n              });\n\n              formData = new FormData();\n              formData.append('funding[fundingTitle]', fundingTitle);\n              formData.append('funding[fundingDescription]', fundingDescription);\n              formData.append('funding[fundingAmount]', fundingAmount);\n              formData.append('funding[fundingSourceType]', fundingSourceType);\n              formData.append('funding[isAwardRecipient]', isAwardRecipient);\n\n              if (fundingSponsor) {\n                if (fundingSponsor.key === 'other_sponsor') {\n                  formData.append('funding[hasOtherSponsor]', true);\n                  formData.append('funding[fundingSponsor]', otherSponsor);\n                } else {\n                  formData.append('funding[fundingSponsor]', fundingSponsor.key);\n                }\n              }\n\n              if (fundingYear) {\n                fundingDate = \"\".concat(fundingYear, \"-\").concat(fundingMonth || 1, \"-15\");\n                formData.append('funding[fundingDate]', fundingDate);\n              }\n\n              if (fundingEndMonth && fundingEndYear && !fundingActive) {\n                fundingEndDate = \"\".concat(fundingEndYear, \"-\").concat(fundingEndMonth || 1, \"-15\");\n                formData.append('funding[fundingEndDate]', fundingEndDate);\n              }\n\n              if (fundingURL) {\n                formData.append('funding[fundingURL]', fundingURL);\n              }\n\n              if (fundingGrantType) {\n                formData.append('funding[fundingGrantType]', fundingGrantType);\n              }\n\n              url = inEditMode ? \"/fundings/\".concat(currentFundingId) : '/fundings';\n              _context.prev = 16;\n              _context.next = 19;\n              return _regeneratorRuntime.awrap(fetch(url, {\n                method: inEditMode ? 'PATCH' : 'POST',\n                body: formData,\n                headers: {\n                  'Accept': 'application/json',\n                  'X-CSRF-Token': authenticityToken()\n                }\n              }));\n\n            case 19:\n              fundingResponse = _context.sent;\n              _context.next = 22;\n              return _regeneratorRuntime.awrap(fundingResponse.json());\n\n            case 22:\n              responseJson = _context.sent;\n\n              if (responseJson.success) {\n                _context.next = 27;\n                break;\n              }\n\n              _this.setState({\n                fundingModalLoading: false\n              });\n\n              _context.next = 31;\n              break;\n\n            case 27:\n              _context.next = 29;\n              return _regeneratorRuntime.awrap(fetchFundings(currentUserId));\n\n            case 29:\n              _this.setState({\n                fundingTitle: '',\n                fundingDescription: '',\n                fundingAmount: '',\n                fundingSponsor: '',\n                searchQuery: '',\n                fundingSourceType: '',\n                fundingURL: '',\n                fundingGrantType: '',\n                fundingModalLoading: false\n              });\n\n              _this.closeModal();\n\n            case 31:\n              _context.next = 36;\n              break;\n\n            case 33:\n              _context.prev = 33;\n              _context.t0 = _context[\"catch\"](16);\n\n              _this.setState({\n                fundingModalLoading: false\n              });\n\n            case 36:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[16, 33]]);\n    };\n\n    _this.handleChange = function (e, attr) {\n      _this.setState(_defineProperty({}, attr, e.target.value));\n    };\n\n    _this.handleCurrencyAmount = function (e, maskedValue, floatValue) {\n      _this.setState({\n        fundingAmount: floatValue\n      });\n    };\n\n    _this.handleSearchQuery = function (options, query) {\n      _this.setState({\n        loadingSearch: true\n      });\n\n      var filteredOptions;\n\n      if (query.length >= 1) {\n        var re = new RegExp(_.escapeRegExp(query), \"i\");\n        filteredOptions = options.filter(function (opt) {\n          return re.test(opt.text);\n        });\n\n        _this.setState({\n          loadingSearch: false\n        });\n\n        return _.uniqBy(filteredOptions.concat({\n          key: 'other_sponsor',\n          text: 'Other',\n          value: 'Other'\n        }), 'value');\n      }\n\n      _this.setState({\n        loadingSearch: false\n      });\n    };\n\n    _this.handleSearchChange = function (e, _ref) {\n      var searchQuery = _ref.searchQuery;\n\n      _this.setState({\n        searchQuery: searchQuery\n      });\n    };\n\n    _this.handleTime = function (e, selection, attr) {\n      _this.setState(_defineProperty({}, attr, selection.value));\n    };\n\n    _this.handleUniversityInputChange = function (e, selection) {\n      _this.setState({\n        universitySearchQuery: selection.value,\n        location: selection.value,\n        fundingSponsor: _.find(_this.universityOptions, function (option) {\n          return option.value === selection.value;\n        })\n      });\n    };\n\n    _this.handleUniversitySearchQuery = function (options, query) {\n      var location = _this.state.location;\n      return _.uniqBy([{\n        key: location,\n        text: location,\n        value: location\n      }].concat(_this.universityOptions), 'value').filter(function (university) {\n        return university.value.length > 0;\n      });\n    };\n\n    _this.universitySearch = debounce(function _callee2(name) {\n      var response, responseJson, universities;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this.setState({\n                loadingUniversitySearch: true\n              });\n\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(fetch(\"/universities/search?name=\".concat(name), {\n                method: 'GET',\n                headers: {\n                  'Accept': 'application/json'\n                }\n              }));\n\n            case 3:\n              response = _context2.sent;\n              _context2.next = 6;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 6:\n              responseJson = _context2.sent;\n              universities = responseJson.universities;\n              _this.universityOptions = universities.concat({\n                key: 'other_sponsor',\n                text: 'Other',\n                value: 'Other'\n              });\n\n              _this.setState({\n                location: '',\n                loadingUniversitySearch: false\n              });\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      });\n    }, 500, {\n      leading: true,\n      trailing: true\n    });\n\n    _this.handleUniversitySearchChange = function _callee3(e, _ref2) {\n      var searchQuery;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              searchQuery = _ref2.searchQuery;\n\n              _this.universitySearch(searchQuery);\n\n              _this.setState({\n                universitySearchQuery: searchQuery\n              });\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      });\n    };\n\n    _this.handleSearch = function (options, query) {\n      var re = new RegExp(_.escapeRegExp(query, 'i'));\n      return options.filter(function (opt) {\n        return re.test(opt.text) || opt.text === 'Other';\n      });\n    };\n\n    _this.handleDeleteFunding = function _callee4() {\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!confirm(\"Are you sure you want to delete that?\")) {\n                _context4.next = 4;\n                break;\n              }\n\n              _context4.next = 3;\n              return _regeneratorRuntime.awrap(fetch(\"/fundings/\".concat(_this.props.currentFundingId), {\n                method: 'DELETE',\n                headers: {\n                  'Accept': 'application/json',\n                  'X-CSRF-Token': authenticityToken()\n                }\n              }));\n\n            case 3:\n              window.location.reload();\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      });\n    };\n\n    _this.renderFundingSourceSelector = function () {\n      var _this$state2 = _this.state,\n          fundingSponsor = _this$state2.fundingSponsor,\n          searchQuery = _this$state2.searchQuery,\n          fundingSourceType = _this$state2.fundingSourceType,\n          universitySearchQuery = _this$state2.universitySearchQuery,\n          fundingGrantType = _this$state2.fundingGrantType,\n          loadingUniversitySearch = _this$state2.loadingUniversitySearch,\n          location = _this$state2.location,\n          otherSponsor = _this$state2.otherSponsor;\n      var dropdownOptions;\n\n      if (searchQuery.length >= 1) {\n        dropdownOptions = _this.companyOptions;\n      } else {\n        dropdownOptions = fundingSponsor.key ? [fundingSponsor] : [];\n      }\n\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: css(styles.NewFundingModal_modalFieldLabel),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 534\n        },\n        __self: this\n      }, fundingSourceFieldLabels[fundingSourceType]), fundingSourceType === 'company' && React.createElement(\"div\", {\n        className: \"custom-dropdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 539\n        },\n        __self: this\n      }, React.createElement(Dropdown, {\n        className: css(styles.NewFundingModal_dropdown),\n        placeholder: \"Search industries...\",\n        icon: null,\n        fluid: true,\n        selection: true,\n        open: searchQuery.length > 0 && _this.state.keywordSearchOpen,\n        onBlur: function onBlur() {\n          return _this.setState({\n            keywordSearchOpen: false\n          });\n        },\n        onFocus: function onFocus() {\n          return _this.setState({\n            keywordSearchOpen: true\n          });\n        },\n        search: _this.handleSearchQuery,\n        searchQuery: searchQuery,\n        value: fundingSponsor.value || fundingSponsor.company_name,\n        options: dropdownOptions,\n        onSearchChange: _this.handleSearchChange,\n        onChange: function onChange(e, selection) {\n          _this.setState({\n            searchQuery: '',\n            hasSubmitted: false,\n            fundingSponsor: _.find(_this.companyOptions, function (option) {\n              return option.value === selection.value;\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 540\n        },\n        __self: this\n      })), fundingSourceType === 'foundation' && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 564\n        },\n        __self: this\n      }, React.createElement(Dropdown, {\n        className: css(styles.NewFundingModal_dropdown),\n        placeholder: \"Search foundations...\",\n        icon: null,\n        fluid: true,\n        selection: true,\n        search: _this.handleSearch,\n        value: fundingSponsor.value || fundingSponsor.foundation_name,\n        options: _this.foundationOptions,\n        onChange: function onChange(e, selection) {\n          _this.setState({\n            fundingSponsor: _.find(_this.foundationOptions, function (option) {\n              return option.value === selection.value;\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 565\n        },\n        __self: this\n      })), fundingSourceType === 'government' && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 582\n        },\n        __self: this\n      }, React.createElement(Dropdown, {\n        className: css(styles.NewFundingModal_dropdown),\n        placeholder: \"Search agencies...\",\n        icon: null,\n        fluid: true,\n        selection: true,\n        search: _this.handleSearch,\n        value: fundingSponsor.value,\n        options: _this.governmentOrganizationOptions,\n        onChange: function onChange(e, selection) {\n          _this.setState({\n            fundingSponsor: _.find(_this.governmentOrganizationOptions, function (option) {\n              return option.value === selection.value;\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 583\n        },\n        __self: this\n      })), fundingSourceType === 'university' && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 600\n        },\n        __self: this\n      }, React.createElement(Dropdown, {\n        className: css(styles.NewFundingModal_dropdown),\n        placeholder: \"Search universities...\",\n        icon: null,\n        fluid: true,\n        selection: true,\n        closeOnChange: true,\n        search: _this.handleUniversitySearchQuery,\n        value: fundingSponsor.value || fundingSponsor.name,\n        options: _this.universityOptions,\n        onChange: _this.handleUniversityInputChange,\n        onSearchChange: _this.handleUniversitySearchChange,\n        searchQuery: universitySearchQuery,\n        loading: loadingUniversitySearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 601\n        },\n        __self: this\n      })), fundingSourceType === 'government' && fundingSponsor.text === \"National Insitute of Health (NIH)\" && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: css(styles.NewFundingModal_modalFieldLabel),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 619\n        },\n        __self: this\n      }, \"NIH Grant Type\"), React.createElement(\"div\", {\n        className: \"custom-dropdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 622\n        },\n        __self: this\n      }, React.createElement(Dropdown, {\n        className: css(styles.NewFundingModal_dropdown),\n        placeholder: \"Please select...\",\n        icon: null,\n        fluid: true,\n        selection: true,\n        value: fundingGrantType,\n        options: nihOptions,\n        onChange: function onChange(e, selection) {\n          _this.setState({\n            fundingGrantType: selection.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 623\n        },\n        __self: this\n      }))), fundingSponsor.key === 'other_sponsor' && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: css(styles.NewFundingModal_modalFieldLabel),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 642\n        },\n        __self: this\n      }, \"Other\"), React.createElement(\"input\", {\n        className: css(styles.NewFundingModal_modalInput),\n        placeholder: \"Specify name of sponsor...\",\n        value: otherSponsor,\n        onChange: function onChange(e) {\n          return _this.handleChange(e, 'otherSponsor');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 645\n        },\n        __self: this\n      })));\n    };\n\n    _this.state = defaultState;\n    return _this;\n  }\n\n  _createClass(NewFundingModal, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this$props3, fetchCompanies, fetchFoundations, fetchGovernmentOrganizations, companies, foundations, governmentOrganizations;\n\n      return _regeneratorRuntime.async(function componentWillMount$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _this$props3 = this.props, fetchCompanies = _this$props3.fetchCompanies, fetchFoundations = _this$props3.fetchFoundations, fetchGovernmentOrganizations = _this$props3.fetchGovernmentOrganizations;\n              _context5.next = 3;\n              return _regeneratorRuntime.awrap(fetchCompanies());\n\n            case 3:\n              companies = _context5.sent;\n              this.companyOptions = companies.map(function (company) {\n                return {\n                  key: company.id,\n                  text: company.company_name,\n                  value: company.id\n                };\n              }).concat({\n                key: 'other_sponsor',\n                text: 'Other',\n                value: 'Other'\n              });\n              _context5.next = 7;\n              return _regeneratorRuntime.awrap(fetchFoundations());\n\n            case 7:\n              foundations = _context5.sent;\n              this.foundationOptions = foundations.map(function (foundation) {\n                return {\n                  key: foundation.id,\n                  text: foundation.foundation_name,\n                  value: foundation.id\n                };\n              }).concat({\n                key: 'other_sponsor',\n                text: 'Other',\n                value: 'Other'\n              });\n              _context5.next = 11;\n              return _regeneratorRuntime.awrap(fetchGovernmentOrganizations());\n\n            case 11:\n              governmentOrganizations = _context5.sent;\n              this.governmentOrganizationOptions = governmentOrganizations.map(function (org) {\n                return {\n                  key: org.id,\n                  text: org.org_name,\n                  value: org.id\n                };\n              }).concat({\n                key: 'other_sponsor',\n                text: 'Other',\n                value: 'Other'\n              });\n\n            case 13:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this,\n          _React$createElement;\n\n      var _this$props4 = this.props,\n          title = _this$props4.title,\n          fundingModalOpen = _this$props4.fundingModalOpen,\n          inEditMode = _this$props4.inEditMode;\n      var _this$state3 = this.state,\n          fundingModalLoading = _this$state3.fundingModalLoading,\n          fundingTitle = _this$state3.fundingTitle,\n          fundingDescription = _this$state3.fundingDescription,\n          fundingAmount = _this$state3.fundingAmount,\n          fundingSponsor = _this$state3.fundingSponsor,\n          otherSponsor = _this$state3.otherSponsor,\n          searchQuery = _this$state3.searchQuery,\n          fundingMonth = _this$state3.fundingMonth,\n          fundingYear = _this$state3.fundingYear,\n          fundingEndMonth = _this$state3.fundingEndMonth,\n          fundingEndYear = _this$state3.fundingEndYear,\n          fundingURL = _this$state3.fundingURL,\n          fundingSourceType = _this$state3.fundingSourceType,\n          fundingGrantType = _this$state3.fundingGrantType,\n          isAwardRecipient = _this$state3.isAwardRecipient;\n      var dropdownOptions;\n\n      if (searchQuery.length >= 1) {\n        dropdownOptions = this.companyOptions;\n      } else {\n        dropdownOptions = fundingSponsor.key ? [fundingSponsor] : [];\n      }\n\n      var validFunding = fundingTitle && fundingSourceType && fundingDescription && fundingAmount && fundingSponsor.key && !(fundingSponsor.key === 'other_sponsor' && !otherSponsor);\n      return React.createElement(Modal, {\n        open: fundingModalOpen,\n        onClose: function onClose() {\n          return _this2.closeModal();\n        },\n        size: \"small\",\n        closeOnDimmerClick: false,\n        className: css(styles.NewFundingModal_modal),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 696\n        },\n        __self: this\n      }, React.createElement(Modal.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 703\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: css(styles.NewFundingModal_modalHeader),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 704\n        },\n        __self: this\n      }, title), React.createElement(\"div\", {\n        className: css(styles.NewFundingModal_modalFieldLabel),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 706\n        },\n        __self: this\n      }, \"Source\"), React.createElement(\"div\", {\n        className: \"custom-dropdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 709\n        },\n        __self: this\n      }, React.createElement(Dropdown, {\n        className: css(styles.NewFundingModal_dropdown),\n        icon: \"chevron down\",\n        placeholder: \"Please select...\",\n        fluid: true,\n        selection: true,\n        value: fundingSourceType,\n        options: gon.funding_source_types,\n        onChange: function onChange(e, selection) {\n          _this2.setState({\n            fundingSponsor: {},\n            fundingSourceType: selection.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 710\n        },\n        __self: this\n      })), this.renderFundingSourceSelector(), React.createElement(\"div\", {\n        className: css(styles.NewFundingModal_modalFieldLabel),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 729\n        },\n        __self: this\n      }, \"Title\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 732\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: css(styles.NewFundingModal_modalInput),\n        placeholder: \"Ex: Examining the impact of working memory on the influence of salience in real-world displays\",\n        value: fundingTitle,\n        type: \"text\",\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'fundingTitle');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 733\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: css(styles.NewFundingModal_modalFieldLabel),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 741\n        },\n        __self: this\n      }, \"Link\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 744\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: css(styles.NewFundingModal_modalInput),\n        placeholder: \"(optional)\",\n        value: fundingURL,\n        type: \"text\",\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'fundingURL');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 745\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: css(styles.NewFundingModal_modalFieldLabel),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 753\n        },\n        __self: this\n      }, \"Abstract\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 756\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        className: css(styles.NewFundingModal_modalInput, styles.NewFundingModal_textarea),\n        placeholder: \"\",\n        type: \"textarea\",\n        value: fundingDescription,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'fundingDescription');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 757\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: css(styles.NewFundingModal_modalFieldLabel),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 766\n        },\n        __self: this\n      }, \"Start Date\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 769\n        },\n        __self: this\n      }, React.createElement(Dropdown, {\n        className: css(styles.NewFundingModal_dateDropdown),\n        icon: \"chevron down\",\n        fluid: true,\n        selection: true,\n        placeholder: \"Month\",\n        style: {\n          marginRight: '4%'\n        },\n        value: fundingMonth || '',\n        options: monthOptions,\n        onChange: function onChange(e, selection) {\n          return _this2.handleTime(e, selection, 'fundingMonth');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 770\n        },\n        __self: this\n      }), React.createElement(Dropdown, {\n        className: css(styles.NewFundingModal_dateDropdown),\n        icon: \"chevron down\",\n        fluid: true,\n        placeholder: \"Year\",\n        selection: true,\n        value: fundingYear || '',\n        options: yearOptions,\n        onChange: function onChange(e, selection) {\n          return _this2.handleTime(e, selection, 'fundingYear');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 781\n        },\n        __self: this\n      })), !this.state.fundingActive && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: css(styles.NewFundingModal_modalFieldLabel),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 795\n        },\n        __self: this\n      }, \"End Date\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 798\n        },\n        __self: this\n      }, React.createElement(Dropdown, (_React$createElement = {\n        className: css(styles.NewFundingModal_dateDropdown),\n        icon: \"chevron down\",\n        fluid: true,\n        selection: true,\n        disabled: !fundingMonth || !fundingYear,\n        placeholder: \"Month\",\n        style: {\n          marginRight: '4%'\n        },\n        value: fundingEndMonth || '',\n        options: monthOptions\n      }, _defineProperty(_React$createElement, \"options\", _.filter(monthOptions, function (month) {\n        // if end year is same as start year ensure month is after start month\n        return fundingEndYear === fundingYear ? month.value > fundingMonth : true;\n      })), _defineProperty(_React$createElement, \"onChange\", function onChange(e, selection) {\n        return _this2.handleTime(e, selection, 'fundingEndMonth');\n      }), _defineProperty(_React$createElement, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 799\n      }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement)), React.createElement(Dropdown, {\n        className: css(styles.NewFundingModal_dateDropdown),\n        icon: \"chevron down\",\n        fluid: true,\n        disabled: !fundingMonth || !fundingYear,\n        placeholder: \"Year\",\n        selection: true,\n        value: fundingEndYear || '',\n        options: _.filter(yearOptions, function (year) {\n          return year.key >= fundingYear;\n        }),\n        onChange: function onChange(e, selection) {\n          return _this2.handleTime(e, selection, 'fundingEndYear');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 815\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: css(styles.NewFundingModal_activeCheckboxWrap),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 830\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: css(styles.NewFundingModal_activeCheckboxLabel),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 831\n        },\n        __self: this\n      }, \"Active\"), React.createElement(Checkbox, {\n        onChange: function onChange() {\n          return _this2.setState({\n            fundingActive: !_this2.state.fundingActive\n          });\n        },\n        checked: this.state.fundingActive,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 832\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: css(styles.NewFundingModal_modalFieldLabel),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 838\n        },\n        __self: this\n      }, \"Amount\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 841\n        },\n        __self: this\n      }, React.createElement(CurrencyInput, {\n        prefix: \"$\",\n        className: css(styles.NewFundingModal_modalInput, styles.NewFundingModal_moneyInput),\n        value: fundingAmount,\n        onChangeEvent: this.handleCurrencyAmount,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 842\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: css(styles.NewFundingModal_modalFieldLabel, styles.NewFundingModal_radioInputFormLabel),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 845\n        },\n        __self: this\n      }, \"Were you the award recipient?\"), React.createElement(Form, {\n        className: css(styles.NewFundingModal_radioInputForm),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 848\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        className: css(styles.NewFundingModal_radioFormField),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 849\n        },\n        __self: this\n      }, React.createElement(Radio, {\n        className: css(styles.NewFundingModal_radioInput),\n        label: \"Yes\",\n        name: \"awardRecipientRadio\",\n        value: \"true\",\n        checked: isAwardRecipient === true,\n        onChange: function onChange(e, _ref3) {\n          var value = _ref3.value;\n          return _this2.setState({\n            isAwardRecipient: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 850\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        className: css(styles.NewFundingModal_radioFormField),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 859\n        },\n        __self: this\n      }, React.createElement(Radio, {\n        className: css(styles.NewFundingModal_radioInput),\n        label: \"No\",\n        name: \"awardRecipientRadio\",\n        value: \"false\",\n        checked: isAwardRecipient === false,\n        onChange: function onChange(e, _ref4) {\n          var value = _ref4.value;\n          return _this2.setState({\n            isAwardRecipient: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 860\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: css(styles.NewFundingModal_modalButtonHolder),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 871\n        },\n        __self: this\n      }, inEditMode && React.createElement(Button, {\n        className: css(modalStyles.Modal_deleteButton),\n        type: \"submit\",\n        disabled: fundingModalLoading,\n        onClick: this.handleDeleteFunding,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 873\n        },\n        __self: this\n      }, \"Delete\"), React.createElement(Button, {\n        className: css(styles.NewFundingModal_modalCancelButton),\n        type: \"submit\",\n        onClick: function onClick() {\n          return _this2.closeModal();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 882\n        },\n        __self: this\n      }, \"Cancel\"), React.createElement(Button, {\n        className: css(styles.NewFundingModal_modalSubmitButton),\n        type: \"submit\",\n        disabled: fundingModalLoading || !validFunding,\n        onClick: this.handleSubmitFunding,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 889\n        },\n        __self: this\n      }, \"Submit\"))));\n    }\n  }]);\n\n  return NewFundingModal;\n}(PureComponent);\n\nNewFundingModal.propTypes = {\n  title: PropTypes.string,\n  fetchFundings: PropTypes.func,\n  fetchCompanies: PropTypes.func,\n  fetchFoundations: PropTypes.func,\n  fetchGovernmentOrganizations: PropTypes.func,\n  toggleFundingModal: PropTypes.func\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    fundingModalOpen: state.profiles.fundingModalOpen,\n    companies: state.defaultReducer.companies,\n    fundings: state.profiles.fundings,\n    currentFundingId: state.profiles.currentFundingId,\n    inEditMode: !!state.profiles.currentFundingId,\n    government_organizations: state.defaultReducer.government_organizations\n  };\n};\n\nvar mapDispatchToProps = {\n  fetchFundings: fetchFundingsAction,\n  fetchCompanies: fetchCompaniesAction,\n  fetchFoundations: fetchFoundationsAction,\n  fetchGovernmentOrganizations: fetchGovernmentOrganizationsAction,\n  toggleFundingModal: toggleFundingModalAction\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(NewFundingModal);","map":{"version":3,"sources":["/Volumes/Work/work/dev/project/projects/halo/app/javascript/src/marketplace/components/NewFundingModal/NewFundingModal.jsx"],"names":["React","PureComponent","PropTypes","connect","css","StyleSheet","Modal","Dropdown","Button","Checkbox","Form","Radio","Icon","_","debounce","CurrencyInput","DatePicker","moment","COLORS","fetchFundings","fetchFundingsAction","toggleFundingModal","toggleFundingModalAction","fetchCompanies","fetchCompaniesAction","fetchFoundations","fetchFoundationsAction","fetchGovernmentOrganizations","fetchGovernmentOrganizationsAction","authenticityToken","styles","modalStyles","create","NewFundingModal_modal","overflow","NewFundingModal_modalFieldLabel","textAlign","margin","width","fontSize","fontWeight","lineHeight","color","inputLabelGray","NewFundingModal_modalInput","padding","height","borderStyle","borderWidth","NewFundingModal_modalHeader","lightBlack","NewFundingModal_modalSubheader","marginBottom","NewFundingModal_datepicker","NewFundingModal_modalSubmitButton","background","lightBlue","backgroundImage","display","white","NewFundingModal_dropdown","alignItems","borderRadius","defaultText","border","NewFundingModal_dateDropdown","paddingTop","NewFundingModal_modalButtonHolder","marginTop","NewFundingModal_modalCancelButton","backgroundColor","NewFundingModal_textarea","NewFundingModal_activeCheckboxLabel","gray","NewFundingModal_activeCheckboxWrap","justifyContent","NewFundingModal_moneyInput","NewFundingModal_radioFormField","paddingRight","borderColor","blue","NewFundingModal_radioInputForm","NewFundingModal_radioInputFormLabel","marginRight","NewFundingModal_radioInput","yearOptions","range","Date","getFullYear","map","year","key","text","value","String","locale","monthOptions","monthsShort","month","index","nihOptions","gon","nih_grant_types","nihType","fundingSourceFieldLabels","government","university","foundation","company","defaultState","fundingModalLoading","fundingTitle","fundingDescription","fundingAmount","undefined","fundingActive","fundingSponsor","searchQuery","location","loadingSearch","loadingUniversitySearch","fundingMonth","fundingYear","fundingEndMonth","fundingEndYear","fundingURL","fundingSourceType","fundingGrantType","universitySearchQuery","otherSponsor","isAwardRecipient","NewFundingModal","props","companyOptions","foundationOptions","governmentOrganizationOptions","universityOptions","componentDidUpdate","prevProps","fundingModalOpen","currentFundingId","currentUserId","fundings","inEditMode","funding","find","startDate","utc","date","endDate","end_date","sponsorNameKey","keys","sponsor","filter","match","other_sponsor","id","setState","title","description","amount","url","fundingStatus","status","format","sponsor_type","grant_type","award_recipient_id","closeModal","handleSubmitFunding","e","preventDefault","state","formData","FormData","append","fundingDate","fundingEndDate","fetch","method","body","headers","fundingResponse","json","responseJson","success","handleChange","attr","target","handleCurrencyAmount","maskedValue","floatValue","handleSearchQuery","options","query","filteredOptions","length","re","RegExp","escapeRegExp","opt","test","uniqBy","concat","handleSearchChange","handleTime","selection","handleUniversityInputChange","option","handleUniversitySearchQuery","universitySearch","name","response","universities","leading","trailing","handleUniversitySearchChange","handleSearch","handleDeleteFunding","confirm","window","reload","renderFundingSourceSelector","dropdownOptions","keywordSearchOpen","company_name","hasSubmitted","foundation_name","companies","foundations","governmentOrganizations","org","org_name","validFunding","funding_source_types","Modal_deleteButton","propTypes","string","func","mapStateToProps","profiles","defaultReducer","government_organizations","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { css, StyleSheet } from 'aphrodite';\nimport { Modal, Dropdown, Button, Checkbox, Form, Radio, Icon } from 'semantic-ui-react';\nimport _, { debounce } from 'lodash';\nimport CurrencyInput from 'react-currency-input';\nimport DatePicker from 'react-datepicker';\nimport moment from 'moment';\nimport { COLORS } from '../../../../constants';\nimport {\n  fetchFundings as fetchFundingsAction,\n  toggleFundingModal as toggleFundingModalAction,\n} from '../../actions/profileActions';\nimport {\n  fetchCompanies as fetchCompaniesAction,\n  fetchFoundations as fetchFoundationsAction,\n  fetchGovernmentOrganizations as fetchGovernmentOrganizationsAction\n} from '../../actions/defaultActions';\nimport {\n  authenticityToken,\n} from '../../utils/requests';\nimport { styles as modalStyles } from '../Modal'\n\nconst styles = StyleSheet.create({\n  NewFundingModal_modal: {\n    overflow: 'visible',\n  },\n  NewFundingModal_modalFieldLabel: {\n    textAlign: 'left',\n    margin: '10px 0 6px',\n    width: '100%',\n    fontSize: '12px',\n    fontWeight: 500,\n    lineHeight: '16px',\n    color: COLORS.inputLabelGray\n  },\n  NewFundingModal_modalInput: {\n    width: '100%',\n    margin: 'auto',\n    padding: '10px',\n    height: '50px',\n    fontSize: '14px',\n    lineHeight: '20px',\n    borderStyle: 'solid',\n    borderWidth: '1px',\n  },\n  NewFundingModal_modalHeader: {\n    fontWeight: 500,\n    fontSize: '24px',\n    lineHeight: '32px',\n    color: COLORS.lightBlack,\n  },\n  NewFundingModal_modalSubheader: {\n    fontSize: '14px',\n    color: COLORS.lightBlack,\n    marginBottom: '32px',\n  },\n  NewFundingModal_datepicker: {\n    width: '100%',\n    height: '50px',\n    padding: '10px',\n    borderStyle: 'solid',\n    borderWidth: '1px',\n    fontSize: '14px',\n  },\n  NewFundingModal_modalSubmitButton: {\n    background: COLORS.lightBlue,\n    backgroundImage: 'linear-gradient(134.72deg, #4E9DF5 0%, #48B2F4 100%)',\n    display: 'inline-block',\n    height: '48px',\n    textAlign: 'center',\n    color: COLORS.white,\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    padding: '5px 50px',\n  },\n  NewFundingModal_dropdown: {\n    width: '100%',\n    height: '48px',\n    fontSize: '14px',\n    display: 'flex',\n    alignItems: 'center',\n    borderRadius: '0px',\n    color: COLORS.defaultText,\n    border: `1px solid ${COLORS.defaultText}`,\n  },\n  NewFundingModal_dateDropdown: {\n    width: '48%',\n    height: '48px',\n    fontSize: '14px',\n    display: 'inline-block',\n    alignItems: 'center',\n    borderRadius: '0px',\n    paddingTop: '16px',\n    color: COLORS.defaultText,\n    border: `1px solid ${COLORS.defaultText}`,\n  },\n  NewFundingModal_modalButtonHolder: {\n    width: '100%',\n    display: 'inline-block',\n    textAlign: 'right',\n    marginTop: '36px',\n  },\n  NewFundingModal_modalCancelButton: {\n    height: '48px',\n    textAlign: 'center',\n    color: COLORS.lightBlack,\n    backgroundColor: COLORS.white,\n    display: 'inline-block',\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    padding: '5px 50px',\n  },\n  NewFundingModal_textarea: {\n    height: '100px'\n  },\n  NewFundingModal_activeCheckboxLabel: {\n    fontSize: '12px',\n    fontWeight: 500,\n    lineHeight: '16px',\n    color: COLORS.gray,\n    margin: '10px 6px'\n  },\n  NewFundingModal_activeCheckboxWrap: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n    height: '6px'\n  },\n  NewFundingModal_moneyInput: {\n    width: '48%'\n  },\n  NewFundingModal_radioFormField: {\n    paddingRight: '7px',\n    display: 'inline',\n    fontSize: '12px',\n    fontWeight: 500,\n    ':nth-child(1n) input~label:before': {\n      borderWidth: '2px'\n    },\n    ':nth-child(1n) input:checked~label:before': {\n      borderColor: COLORS.blue,\n      borderWidth: '2px'\n    },\n    ':nth-child(1n) input:checked~label:after': {\n      backgroundColor: COLORS.blue,\n    },\n  },\n  NewFundingModal_radioInputForm: {\n    display: 'inline-block',\n    marginTop: '10px'\n  },\n  NewFundingModal_radioInputFormLabel: {\n    color: COLORS.inputLabelGray,\n    width: 'unset',\n    marginRight: '10px'\n  },\n  NewFundingModal_radioInput: {\n    ':nth-child(1n) label': {\n      fontSize: '12px',\n      fontWeight: 500,\n      lineHeight: '16px',\n      color: COLORS.inputLabelGray\n    }\n  }\n});\n\nconst yearOptions = _.range(new Date().getFullYear(), 1950, -1).map((year) => {\n  return {\n    key: year,\n    text: year,\n    value: String(year),\n  };\n});\n\nmoment.locale('en');\nconst monthOptions = moment.monthsShort('-MMM-').map((month, index) => {\n  return {\n    key: month,\n    text: month,\n    value: String(index + 1),\n  };\n});\n\nconst nihOptions = gon.nih_grant_types.map((nihType) => {\n  return {\n    key: nihType,\n    text: nihType,\n    value: nihType,\n  };\n});\n\nconst fundingSourceFieldLabels = {\n  government: \"Agencies\",\n  university: \"Universities\",\n  foundation: \"Foundations\",\n  company: \"Industries\"\n}\n\nconst defaultState = {\n  fundingModalLoading: false,\n  fundingTitle: '',\n  fundingDescription: '',\n  fundingAmount: undefined,\n  fundingActive: true,\n  fundingSponsor: {},\n  searchQuery: '',\n  location: '',\n  loadingSearch: false,\n  loadingUniversitySearch: false,\n  fundingMonth: undefined,\n  fundingYear: undefined,\n  fundingEndMonth: null,\n  fundingEndYear: null,\n  fundingURL: '',\n  fundingSourceType: '',\n  fundingGrantType: '',\n  universitySearchQuery: '',\n  otherSponsor: '',\n  isAwardRecipient: true\n};\n\nclass NewFundingModal extends PureComponent {\n  companyOptions = [{ key: 'other_sponsor', text: 'Other', value: 'Other' }];\n  foundationOptions = [{ key: 'other_sponsor', text: 'Other', value: 'Other' }];\n  governmentOrganizationOptions = [{ key: 'other_sponsor', text: 'Other', value: 'Other' }];\n  universityOptions = [{ key: 'other_sponsor', text: 'Other', value: 'Other' }];\n\n  constructor(props) {\n    super(props);\n    this.state = defaultState;\n  }\n\n  componentDidUpdate = (prevProps) => {\n    if (prevProps.fundingModalOpen) return;\n    // skip updating state if modal already open\n\n    const {\n      currentFundingId,\n      currentUserId,\n      fundings,\n      inEditMode,\n      fundingModalOpen\n    } = this.props;\n\n    if(inEditMode) {\n      // when OPENING modal to edit funding\n      const funding = _.find(fundings, ['id', currentFundingId])\n      const startDate = moment.utc(funding.date);\n      const endDate = moment.utc(funding.end_date);\n      const sponsorNameKey = _.keys(funding.sponsor).filter((key) => key.match('name'));\n      const fundingSponsor = funding.other_sponsor ?\n                              { key: 'other_sponsor', text: 'Other', value: 'Other' } :\n                              { key: funding.sponsor.id, value: funding.sponsor.id, text: funding.sponsor[sponsorNameKey] };\n\n      this.setState({\n        fundingTitle: funding.title,\n        fundingDescription: funding.description,\n        fundingAmount: funding.amount,\n        fundingActive: !funding.end_date,\n        fundingURL: funding.url,\n        fundingSponsor,\n        fundingMonth: funding.abstract,\n        fundingStatus: funding.status,\n        fundingMonth: startDate.format('M'),\n        fundingYear: startDate.format('YYYY'),\n        fundingEndMonth: endDate.format('M'),\n        fundingEndYear: endDate.format('YYYY'),\n        fundingSourceType: funding.sponsor_type,\n        fundingGrantType: funding.grant_type,\n        otherSponsor: funding.other_sponsor,\n        isAwardRecipient: funding.award_recipient_id === currentUserId\n      });\n    } else if (!inEditMode) {\n      // when creating new patent\n      this.setState(defaultState);\n    }\n  }\n\n  async componentWillMount() {\n    const {\n      fetchCompanies,\n      fetchFoundations,\n      fetchGovernmentOrganizations\n    } = this.props;\n\n\n    const companies = await fetchCompanies();\n    this.companyOptions = companies.map(company => {\n      return {\n        key: company.id,\n        text: company.company_name,\n        value: company.id,\n      };\n    }).concat({ key: 'other_sponsor', text: 'Other', value: 'Other'});\n\n\n    const foundations = await fetchFoundations();\n    this.foundationOptions = foundations.map(foundation => {\n      return {\n        key: foundation.id,\n        text: foundation.foundation_name,\n        value: foundation.id,\n      };\n    }).concat({ key: 'other_sponsor', text: 'Other', value: 'Other'});\n\n\n    const governmentOrganizations = await fetchGovernmentOrganizations();\n    this.governmentOrganizationOptions = governmentOrganizations.map(org => {\n      return {\n        key: org.id,\n        text: org.org_name,\n        value: org.id,\n      };\n    }).concat({ key: 'other_sponsor', text: 'Other', value: 'Other'});\n  }\n\n  closeModal = () => {\n    this.setState(defaultState);\n    this.props.toggleFundingModal(false);\n  }\n\n  handleSubmitFunding = async (e) => {\n    const {\n      fetchFundings,\n      currentUserId,\n      currentFundingId,\n      inEditMode\n    } = this.props;\n\n    e.preventDefault();\n\n    const {\n      fundingTitle,\n      fundingDescription,\n      fundingAmount,\n      fundingSponsor,\n      fundingMonth,\n      fundingYear,\n      fundingEndMonth,\n      fundingEndYear,\n      fundingActive,\n      fundingURL,\n      fundingSourceType,\n      fundingGrantType,\n      otherSponsor,\n      isAwardRecipient\n    } = this.state;\n\n    this.setState({\n      fundingModalLoading: true,\n    });\n\n    const formData = new FormData();\n    formData.append('funding[fundingTitle]', fundingTitle);\n    formData.append('funding[fundingDescription]', fundingDescription);\n    formData.append('funding[fundingAmount]', fundingAmount);\n    formData.append('funding[fundingSourceType]', fundingSourceType);\n    formData.append('funding[isAwardRecipient]', isAwardRecipient);\n\n    if (fundingSponsor) {\n      if(fundingSponsor.key === 'other_sponsor'){\n        formData.append('funding[hasOtherSponsor]', true);\n        formData.append('funding[fundingSponsor]', otherSponsor);\n      } else {\n        formData.append('funding[fundingSponsor]', fundingSponsor.key);\n      }\n    }\n\n    if (fundingYear) {\n      const fundingDate = `${fundingYear}-${fundingMonth || 1}-15`;\n      formData.append('funding[fundingDate]', fundingDate);\n    }\n    if (fundingEndMonth && fundingEndYear && !fundingActive) {\n      const fundingEndDate = `${fundingEndYear}-${fundingEndMonth || 1}-15`;\n      formData.append('funding[fundingEndDate]', fundingEndDate);\n    }\n    if (fundingURL) {\n      formData.append('funding[fundingURL]', fundingURL);\n    }\n    if (fundingGrantType) {\n      formData.append('funding[fundingGrantType]', fundingGrantType);\n    }\n\n    const url = (inEditMode ? `/fundings/${currentFundingId}` : '/fundings')\n\n    try {\n      const fundingResponse = await fetch(url, {\n        method: (inEditMode ? 'PATCH' : 'POST'),\n        body: formData,\n        headers: {\n          'Accept': 'application/json',\n          'X-CSRF-Token': authenticityToken(),\n        }\n      });\n      const responseJson = await fundingResponse.json();\n      if (!responseJson.success) {\n        this.setState({\n          fundingModalLoading: false,\n        });\n      } else {\n        await fetchFundings(currentUserId);\n        this.setState({\n          fundingTitle: '',\n          fundingDescription: '',\n          fundingAmount: '',\n          fundingSponsor: '',\n          searchQuery: '',\n          fundingSourceType: '',\n          fundingURL: '',\n          fundingGrantType: '',\n          fundingModalLoading: false,\n        });\n        this.closeModal();\n      }\n    } catch(err) {\n      this.setState({ fundingModalLoading: false });\n    }\n  }\n\n  handleChange = (e, attr) => {\n    this.setState({ [attr]: e.target.value });\n  };\n\n  handleCurrencyAmount = (e, maskedValue, floatValue) => {\n    this.setState({ fundingAmount: floatValue })\n  }\n\n  handleSearchQuery = (options, query) => {\n    this.setState({ loadingSearch: true });\n    let filteredOptions;\n    if (query.length >= 1) {\n      const re = new RegExp(_.escapeRegExp(query), \"i\");\n      filteredOptions = options.filter(opt => re.test(opt.text));\n      this.setState({ loadingSearch: false });\n      return _.uniqBy(filteredOptions.concat({ key: 'other_sponsor', text: 'Other', value: 'Other'}), 'value');\n    }\n    this.setState({ loadingSearch: false });\n  }\n\n  handleSearchChange = (e, { searchQuery }) => {\n    this.setState({ searchQuery });\n  };\n\n  handleTime = (e, selection, attr) => {\n    this.setState({ [attr]: selection.value });\n  };\n\n  handleUniversityInputChange = (e, selection) => {\n    this.setState({\n      universitySearchQuery: selection.value,\n      location: selection.value,\n      fundingSponsor: _.find(this.universityOptions, (option) => option.value === selection.value)\n    });\n  };\n\n  handleUniversitySearchQuery = (options, query) => {\n    const { location } = this.state;\n\n    return _.uniqBy([{ key: location, text: location, value: location }].concat(this.universityOptions), 'value')\n            .filter(university => university.value.length > 0);\n  }\n\n  universitySearch = debounce(async (name) => {\n    this.setState({ loadingUniversitySearch: true });\n    const response = await fetch(`/universities/search?name=${name}`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n      }\n    });\n    const responseJson = await response.json();\n    const universities = responseJson.universities;\n\n    this.universityOptions = universities.concat({ key: 'other_sponsor', text: 'Other', value: 'Other'});\n\n    this.setState({\n      location: '',\n      loadingUniversitySearch: false,\n    });\n  }, 500, { leading: true, trailing: true });\n\n  handleUniversitySearchChange = async (e, { searchQuery }) => {\n    this.universitySearch(searchQuery);\n\n    this.setState({\n      universitySearchQuery: searchQuery,\n    });\n  };\n\n  handleSearch = (options, query) => {\n    const re = new RegExp(_.escapeRegExp(query, 'i'))\n    return options.filter((opt) => {\n      return re.test(opt.text) || opt.text === 'Other'\n    })\n  }\n\n  handleDeleteFunding = async () => {\n    if (confirm(\"Are you sure you want to delete that?\")) {\n      await fetch(`/fundings/${this.props.currentFundingId}`, {\n        method: 'DELETE',\n        headers: {\n          'Accept': 'application/json',\n          'X-CSRF-Token': authenticityToken(),\n        }\n      });\n      window.location.reload();\n    }\n  }\n\n  renderFundingSourceSelector = () => {\n    const {\n      fundingSponsor,\n      searchQuery,\n      fundingSourceType,\n      universitySearchQuery,\n      fundingGrantType,\n      loadingUniversitySearch,\n      location,\n      otherSponsor\n    } = this.state;\n\n    let dropdownOptions;\n    if (searchQuery.length >= 1) {\n      dropdownOptions = this.companyOptions;\n    } else {\n      dropdownOptions = fundingSponsor.key ? [fundingSponsor] : [];\n    }\n\n    return (\n      <>\n        <div className={css(styles.NewFundingModal_modalFieldLabel)}>\n          {fundingSourceFieldLabels[fundingSourceType]}\n        </div>\n\n        {fundingSourceType === 'company' &&\n          <div className='custom-dropdown'>\n            <Dropdown\n              className={css(styles.NewFundingModal_dropdown)}\n              placeholder='Search industries...'\n              icon={null}\n              fluid\n              selection\n              open={searchQuery.length > 0 && this.state.keywordSearchOpen}\n              onBlur={() => this.setState({ keywordSearchOpen: false })}\n              onFocus={() => this.setState({ keywordSearchOpen: true })}\n              search={this.handleSearchQuery}\n              searchQuery={searchQuery}\n              value={fundingSponsor.value || fundingSponsor.company_name}\n              options={dropdownOptions}\n              onSearchChange={this.handleSearchChange}\n              onChange={(e, selection) => {\n                this.setState({\n                  searchQuery: '',\n                  hasSubmitted: false,\n                  fundingSponsor: _.find(this.companyOptions, (option) => option.value === selection.value),\n                });\n              }}\n            />\n          </div>}\n        {fundingSourceType === 'foundation' &&\n          <div>\n            <Dropdown\n              className={css(styles.NewFundingModal_dropdown)}\n              placeholder='Search foundations...'\n              icon={null}\n              fluid\n              selection\n              search={this.handleSearch}\n              value={fundingSponsor.value || fundingSponsor.foundation_name}\n              options={this.foundationOptions}\n              onChange={(e, selection) => {\n                this.setState({\n                  fundingSponsor: _.find(this.foundationOptions, (option) => option.value === selection.value),\n                });\n              }}\n            />\n          </div>}\n        {fundingSourceType === 'government' &&\n          <div>\n            <Dropdown\n              className={css(styles.NewFundingModal_dropdown)}\n              placeholder='Search agencies...'\n              icon={null}\n              fluid\n              selection\n              search={this.handleSearch}\n              value={fundingSponsor.value}\n              options={this.governmentOrganizationOptions}\n              onChange={(e, selection) => {\n                this.setState({\n                  fundingSponsor: _.find(this.governmentOrganizationOptions, (option) => option.value === selection.value),\n                });\n              }}\n            />\n          </div>}\n        {fundingSourceType === 'university' &&\n          <div>\n            <Dropdown\n              className={css(styles.NewFundingModal_dropdown)}\n              placeholder='Search universities...'\n              icon={null}\n              fluid\n              selection\n              closeOnChange\n              search={this.handleUniversitySearchQuery}\n              value={fundingSponsor.value || fundingSponsor.name}\n              options={this.universityOptions}\n              onChange={this.handleUniversityInputChange}\n              onSearchChange={this.handleUniversitySearchChange}\n              searchQuery={universitySearchQuery}\n              loading={loadingUniversitySearch}\n            />\n          </div>}\n        {fundingSourceType === 'government' && fundingSponsor.text === \"National Insitute of Health (NIH)\" &&\n          <>\n            <div className={css(styles.NewFundingModal_modalFieldLabel)}>\n              NIH Grant Type\n            </div>\n            <div className='custom-dropdown'>\n              <Dropdown\n                className={css(styles.NewFundingModal_dropdown)}\n                placeholder='Please select...'\n                icon={null}\n                fluid\n                selection\n                value={fundingGrantType}\n                options={nihOptions}\n                onChange={(e, selection) => {\n                  this.setState({\n                    fundingGrantType: selection.value,\n                  });\n                }}\n              />\n            </div>\n          </>\n        }\n        {fundingSponsor.key === ('other_sponsor') &&\n          <>\n            <div className={css(styles.NewFundingModal_modalFieldLabel)}>\n              Other\n            </div>\n            <input\n              className={css(styles.NewFundingModal_modalInput)}\n              placeholder='Specify name of sponsor...'\n              value={otherSponsor}\n              onChange={(e) => this.handleChange(e, 'otherSponsor')}\n            />\n          </>\n        }\n      </>\n    )\n  }\n\n  render() {\n    const {\n      title,\n      fundingModalOpen,\n      inEditMode\n    } = this.props;\n    const {\n      fundingModalLoading,\n      fundingTitle,\n      fundingDescription,\n      fundingAmount,\n      fundingSponsor,\n      otherSponsor,\n      searchQuery,\n      fundingMonth,\n      fundingYear,\n      fundingEndMonth,\n      fundingEndYear,\n      fundingURL,\n      fundingSourceType,\n      fundingGrantType,\n      isAwardRecipient\n    } = this.state;\n\n    let dropdownOptions;\n    if (searchQuery.length >= 1) {\n      dropdownOptions = this.companyOptions;\n    } else {\n      dropdownOptions = fundingSponsor.key ? [fundingSponsor] : [];\n    }\n\n    const validFunding = fundingTitle &&\n                         fundingSourceType &&\n                         fundingDescription &&\n                         fundingAmount &&\n                         fundingSponsor.key &&\n                         !(fundingSponsor.key === 'other_sponsor' && !otherSponsor);\n\n    return (\n      <Modal\n        open={fundingModalOpen}\n        onClose={() => this.closeModal()}\n        size=\"small\"\n        closeOnDimmerClick={false}\n        className={css(styles.NewFundingModal_modal)}\n      >\n        <Modal.Content>\n          <div className={css(styles.NewFundingModal_modalHeader)}>{title}</div>\n\n          <div className={css(styles.NewFundingModal_modalFieldLabel)}>\n            Source\n          </div>\n          <div className='custom-dropdown'>\n            <Dropdown\n              className={css(styles.NewFundingModal_dropdown)}\n              icon='chevron down'\n              placeholder='Please select...'\n              fluid\n              selection\n              value={fundingSourceType}\n              options={gon.funding_source_types}\n              onChange={(e, selection) => {\n                this.setState({\n                  fundingSponsor: {},\n                  fundingSourceType: selection.value,\n                });\n              }}\n            />\n          </div>\n\n          {this.renderFundingSourceSelector()}\n\n          <div className={css(styles.NewFundingModal_modalFieldLabel)}>\n            Title\n          </div>\n          <div>\n            <input\n              className={css(styles.NewFundingModal_modalInput)}\n              placeholder='Ex: Examining the impact of working memory on the influence of salience in real-world displays'\n              value={fundingTitle}\n              type=\"text\"\n              onChange={(e) => this.handleChange(e, 'fundingTitle')}\n            />\n          </div>\n          <div className={css(styles.NewFundingModal_modalFieldLabel)}>\n            Link\n          </div>\n          <div>\n            <input\n              className={css(styles.NewFundingModal_modalInput)}\n              placeholder='(optional)'\n              value={fundingURL}\n              type=\"text\"\n              onChange={(e) => this.handleChange(e, 'fundingURL')}\n            />\n          </div>\n          <div className={css(styles.NewFundingModal_modalFieldLabel)}>\n            Abstract\n          </div>\n          <div>\n            <textarea\n              className={css(styles.NewFundingModal_modalInput, styles.NewFundingModal_textarea)}\n              placeholder=''\n              type='textarea'\n              value={fundingDescription}\n              onChange={(e) => this.handleChange(e, 'fundingDescription')}\n            />\n          </div>\n\n          <div className={css(styles.NewFundingModal_modalFieldLabel)}>\n            Start Date\n          </div>\n          <div>\n            <Dropdown\n              className={css(styles.NewFundingModal_dateDropdown)}\n              icon='chevron down'\n              fluid\n              selection\n              placeholder=\"Month\"\n              style={{ marginRight: '4%' }}\n              value={fundingMonth || ''}\n              options={monthOptions}\n              onChange={(e, selection) => this.handleTime(e, selection, 'fundingMonth')}\n            />\n            <Dropdown\n              className={css(styles.NewFundingModal_dateDropdown)}\n              icon='chevron down'\n              fluid\n              placeholder=\"Year\"\n              selection\n              value={fundingYear || ''}\n              options={yearOptions}\n              onChange={(e, selection) => this.handleTime(e, selection, 'fundingYear')}\n            />\n          </div>\n\n          {!this.state.fundingActive &&\n            <>\n              <div className={css(styles.NewFundingModal_modalFieldLabel)}>\n                End Date\n              </div>\n              <div>\n                <Dropdown\n                  className={css(styles.NewFundingModal_dateDropdown)}\n                  icon='chevron down'\n                  fluid\n                  selection\n                  disabled={!fundingMonth || !fundingYear}\n                  placeholder=\"Month\"\n                  style={{ marginRight: '4%' }}\n                  value={fundingEndMonth || ''}\n                  options={monthOptions}\n                  options={_.filter(monthOptions, (month) => {\n                    // if end year is same as start year ensure month is after start month\n                    return fundingEndYear === fundingYear ? month.value > fundingMonth : true;\n                  })}\n                  onChange={(e, selection) => this.handleTime(e, selection, 'fundingEndMonth')}\n                  />\n                <Dropdown\n                  className={css(styles.NewFundingModal_dateDropdown)}\n                  icon='chevron down'\n                  fluid\n                  disabled={!fundingMonth || !fundingYear}\n                  placeholder=\"Year\"\n                  selection\n                  value={fundingEndYear || ''}\n                  options={_.filter(yearOptions, (year) => year.key >= fundingYear)}\n                  onChange={(e, selection) => this.handleTime(e, selection, 'fundingEndYear')}\n                  />\n              </div>\n            </>\n          }\n\n          <div className={css(styles.NewFundingModal_activeCheckboxWrap)}>\n            <label className={css(styles.NewFundingModal_activeCheckboxLabel)}>Active</label>\n            <Checkbox\n              onChange={() => this.setState({ fundingActive: !this.state.fundingActive })}\n              checked={this.state.fundingActive}\n            />\n          </div>\n\n          <div className={css(styles.NewFundingModal_modalFieldLabel)}>\n            Amount\n          </div>\n          <div>\n            <CurrencyInput prefix=\"$\" className={css(styles.NewFundingModal_modalInput, styles.NewFundingModal_moneyInput)} value={fundingAmount} onChangeEvent={this.handleCurrencyAmount} />\n          </div>\n\n          <span className={css(styles.NewFundingModal_modalFieldLabel, styles.NewFundingModal_radioInputFormLabel)}>\n            Were you the award recipient?\n          </span>\n          <Form className={css(styles.NewFundingModal_radioInputForm)}>\n            <Form.Field className={css(styles.NewFundingModal_radioFormField)}>\n              <Radio\n                className={css(styles.NewFundingModal_radioInput)}\n                label='Yes'\n                name='awardRecipientRadio'\n                value='true'\n                checked={isAwardRecipient === true}\n                onChange={(e, { value }) => this.setState({ isAwardRecipient: true })}\n              />\n            </Form.Field>\n            <Form.Field className={css(styles.NewFundingModal_radioFormField)}>\n              <Radio\n                className={css(styles.NewFundingModal_radioInput)}\n                label='No'\n                name='awardRecipientRadio'\n                value='false'\n                checked={isAwardRecipient === false}\n                onChange={(e, { value }) => this.setState({ isAwardRecipient: false })}\n              />\n            </Form.Field>\n          </Form>\n\n          <div className={css(styles.NewFundingModal_modalButtonHolder)}>\n            {inEditMode &&\n              <Button\n                className={css(modalStyles.Modal_deleteButton)}\n                type='submit'\n                disabled={fundingModalLoading}\n                onClick={this.handleDeleteFunding}\n                >\n                Delete\n              </Button>\n            }\n            <Button\n              className={css(styles.NewFundingModal_modalCancelButton)}\n              type='submit'\n              onClick={() => this.closeModal()}\n            >\n              Cancel\n            </Button>\n            <Button\n              className={css(styles.NewFundingModal_modalSubmitButton)}\n              type='submit'\n              disabled={fundingModalLoading || !validFunding}\n              onClick={this.handleSubmitFunding}\n            >\n              Submit\n            </Button>\n          </div>\n        </Modal.Content>\n      </Modal>\n    );\n  }\n}\n\nNewFundingModal.propTypes = {\n  title: PropTypes.string,\n  fetchFundings: PropTypes.func,\n  fetchCompanies: PropTypes.func,\n  fetchFoundations: PropTypes.func,\n  fetchGovernmentOrganizations: PropTypes.func,\n  toggleFundingModal: PropTypes.func,\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    fundingModalOpen: state.profiles.fundingModalOpen,\n    companies: state.defaultReducer.companies,\n    fundings: state.profiles.fundings,\n    currentFundingId: state.profiles.currentFundingId,\n    inEditMode: !!state.profiles.currentFundingId,\n    government_organizations: state.defaultReducer.government_organizations\n  };\n};\n\nconst mapDispatchToProps = {\n  fetchFundings: fetchFundingsAction,\n  fetchCompanies: fetchCompaniesAction,\n  fetchFoundations: fetchFoundationsAction,\n  fetchGovernmentOrganizations: fetchGovernmentOrganizationsAction,\n  toggleFundingModal: toggleFundingModalAction,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(NewFundingModal);\n"]},"metadata":{},"sourceType":"module"}