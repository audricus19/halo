{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"/Volumes/Work/work/dev/project/projects/halo/app/javascript/src/universityOnboarding/components/UniversityOnboarding/UniversityOnboarding.jsx\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { PureComponent } from 'react';\nimport { css, StyleSheet } from 'aphrodite';\nimport PropTypes from 'prop-types';\nimport { Container, Form, Radio, Grid, Dropdown, Button, Icon } from 'semantic-ui-react';\nimport _, { debounce } from 'lodash';\nimport { COLORS, WINDOW_DIMENSIONS } from '../../../../constants';\nimport haloLogo from '../../../../images/logos/halo_logo.svg';\nimport { authenticityToken, getCookie } from '../../../marketplace/utils/requests';\nvar TABLET_LANDSCAPE_MEDIA_QUERY = WINDOW_DIMENSIONS.TABLET_LANDSCAPE_MEDIA_QUERY,\n    MOBILE_MEDIA_QUERY = WINDOW_DIMENSIONS.MOBILE_MEDIA_QUERY;\nvar styles = StyleSheet.create({\n  UniversityOnboarding_container: _defineProperty({\n    marginBottom: '100px'\n  }, MOBILE_MEDIA_QUERY, {\n    padding: '0'\n  }),\n  UniversityOnboarding_logoBanner: {\n    textAlign: 'center',\n    backgroundColor: COLORS.snowWhite,\n    paddingTop: '15px',\n    paddingBottom: '15px',\n    marginBottom: '50px'\n  },\n  UniversityOnboarding_stepTab: _defineProperty({\n    width: '33%',\n    textAlign: 'center',\n    fontSize: '14px',\n    fontWeight: 600,\n    lineHeight: '16px',\n    color: COLORS.lightGray,\n    paddingBottom: '33px',\n    borderBottom: \"1px solid \".concat(COLORS.lightGray)\n  }, MOBILE_MEDIA_QUERY, {\n    paddingBottom: '12px'\n  }),\n  UniversityOnboarding_steps: _defineProperty({}, MOBILE_MEDIA_QUERY, {\n    marginLeft: '0'\n  }),\n  UniversityOnboarding_activeTab: {\n    color: COLORS.lightBlack,\n    borderBottom: \"2px solid \".concat(COLORS.lightBlue)\n  },\n  UniversityOnboarding_stepContainer: _defineProperty({\n    textAlign: 'center',\n    width: '60%',\n    margin: 'auto'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%'\n  }),\n  UniversityOnboarding_step1Description: _defineProperty({\n    margin: '50px auto 5px',\n    color: COLORS.lightBlack,\n    fontSize: '24px',\n    lineHeight: '32px',\n    fontWeight: 'bold',\n    textAlign: 'left',\n    width: '90%'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%'\n  }),\n  UniversityOnboarding_subdescription: _defineProperty({\n    fontSize: '14px',\n    textAlign: 'left',\n    width: '90%',\n    margin: '0 auto 30px',\n    color: COLORS.lightBlack\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%'\n  }),\n  UniversityOnboarding_step2Description: _defineProperty({\n    margin: '50px auto 5px',\n    width: '90%',\n    textAlign: 'left',\n    color: COLORS.lightBlack,\n    fontSize: '24px',\n    lineHeight: '32px',\n    fontWeight: 'bold'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%'\n  }),\n  UniversityOnboarding_step2Subdescription: {\n    margin: '0 auto 50px',\n    width: '90%',\n    textAlign: 'left',\n    color: COLORS.darkGray,\n    fontSize: '13px',\n    lineHeight: '24px'\n  },\n  UniversityOnboarding_radioGroup: {\n    textAlign: 'left',\n    marginLeft: '30px'\n  },\n  UniversityOnboarding_inputContainer: {\n    width: '90%',\n    margin: 'auto'\n  },\n  UniversityOnboarding_fieldSublabel: _defineProperty({\n    textAlign: 'left',\n    fontSize: '10px',\n    fontWeight: 500,\n    lineHeight: '24px',\n    color: COLORS.lightGray,\n    margin: '0 auto 5px',\n    width: '90%'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%'\n  }),\n  UniversityOnboarding_dropdown: _defineProperty({\n    width: '90%',\n    margin: 'auto',\n    flexWrap: 'wrap',\n    fontSize: '14px',\n    height: '48px',\n    display: 'flex',\n    alignItems: 'center'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%'\n  }),\n  UniversityOnboarding_input: _defineProperty({\n    width: '90%',\n    margin: 'auto',\n    padding: '10px',\n    fontSize: '14px',\n    marginTop: '10px'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%'\n  }),\n  UniversityOnboarding_radioButton: {\n    marginBottom: '0px'\n  },\n  UniversityOnboarding_leftInput: _defineProperty({\n    width: '48%',\n    marginRight: '4%',\n    display: 'inline-block',\n    padding: '10px',\n    fontSize: '14px'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%',\n    border: '1px solid',\n    borderColor: COLORS.inputBorderGray,\n    borderRadius: '4px',\n    marginBottom: '10px'\n  }),\n  UniversityOnboarding_rightInput: _defineProperty({\n    width: '48%',\n    display: 'inline-block',\n    padding: '10px',\n    fontSize: '14px'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%',\n    border: '1px solid',\n    borderColor: COLORS.inputBorderGray,\n    borderRadius: '4px'\n  }),\n  UniversityOnboarding_radioLabel: {\n    fontSize: '14px'\n  },\n  UniversityOnboarding_continueButtonHolder: _defineProperty({\n    textAlign: 'left',\n    display: 'flex'\n  }, MOBILE_MEDIA_QUERY, {\n    marginTop: '30px',\n    flexDirection: 'column-reverse'\n  }),\n  UniversityOnboarding_backButton: _defineProperty({\n    backgroundColor: COLORS.white,\n    width: '166px',\n    height: '48px',\n    textAlign: 'center',\n    color: COLORS.lightBlack,\n    border: \"1px solid \".concat(COLORS.lightGray),\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    marginLeft: '4%',\n    marginTop: '50px'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%',\n    marginLeft: '0',\n    marginTop: '8px'\n  }),\n  UniversityOnboarding_continueButton: _defineProperty({\n    background: COLORS.lightBlue,\n    backgroundImage: 'linear-gradient(134.72deg, #4E9DF5 0%, #48B2F4 100%)',\n    width: '166px',\n    height: '48px',\n    textAlign: 'center',\n    color: COLORS.white,\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    marginLeft: '4%',\n    marginTop: '50px'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%',\n    margin: '0'\n  }),\n  UniversityOnboarding_expertiseDropdown: _defineProperty({\n    width: '90%',\n    margin: 'auto',\n    fontSize: '14px',\n    minHeight: '48px',\n    paddingTop: '3px',\n    display: 'flex',\n    alignItems: 'center'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%'\n  })\n});\n\nvar yearOptions = _.range(new Date().getFullYear(), 1950, -1).map(function (year) {\n  return {\n    key: year,\n    text: year,\n    value: String(year)\n  };\n});\n\nvar titleOptions = gon.user_title_options;\nvar expertiseOptions = gon.areas_of_expertise;\n\nvar UniversityOnboarding =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(UniversityOnboarding, _PureComponent);\n\n  function UniversityOnboarding() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UniversityOnboarding);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UniversityOnboarding)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      currentStep: 1,\n      title: '',\n      location: '',\n      expertise: '',\n      searchQuery: '',\n      loadingSearch: false,\n      universityOptions: [],\n      loadingLocationSearch: false,\n      locationSearchQuery: '',\n      otherSpecialty: ''\n    };\n\n    _this.incrementStep = function () {\n      _this.setState(function (prevState) {\n        return {\n          currentStep: prevState.currentStep + 1\n        };\n      });\n    };\n\n    _this.decrementStep = function () {\n      _this.setState(function (prevState) {\n        return {\n          currentStep: prevState.currentStep - 1\n        };\n      });\n    };\n\n    _this.handleTitle = function (e, selection) {\n      _this.setState({\n        title: selection.value\n      });\n    };\n\n    _this.handleLocation = function (e, selection) {\n      _this.setState({\n        locationSearchQuery: selection.value,\n        location: selection.value\n      });\n    };\n\n    _this.handleLocationSearchQuery = function (options, query) {\n      var _this$state = _this.state,\n          universityOptions = _this$state.universityOptions,\n          location = _this$state.location;\n      return _.uniqBy([{\n        key: location,\n        text: location,\n        value: location\n      }].concat(universityOptions), 'value').filter(function (university) {\n        return university.value.length > 0;\n      });\n    };\n\n    _this.universitySearch = debounce(function _callee(name) {\n      var response, responseJson, universities;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.setState({\n                loadingLocationSearch: true\n              });\n\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(fetch(\"/universities/search?name=\".concat(name), {\n                method: 'GET',\n                headers: {\n                  'Accept': 'application/json'\n                }\n              }));\n\n            case 3:\n              response = _context.sent;\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 6:\n              responseJson = _context.sent;\n              universities = responseJson.universities;\n\n              _this.setState({\n                location: '',\n                universityOptions: universities,\n                loadingLocationSearch: false\n              });\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    }, 500, {\n      leading: true,\n      trailing: true\n    });\n\n    _this.handleLocationSearchChange = function _callee2(e, _ref) {\n      var searchQuery;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              searchQuery = _ref.searchQuery;\n\n              _this.universitySearch(searchQuery);\n\n              _this.setState({\n                locationSearchQuery: searchQuery\n              });\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      });\n    };\n\n    _this.givenExpertiseOptionValues = function () {\n      return _.chain(expertiseOptions).map('value').without('other_specialty').value();\n    };\n\n    _this.handleExpertise = function (e, selection) {\n      var value = selection.value.includes('allAreas') ? _this.givenExpertiseOptionValues() : selection.value;\n\n      _this.setState({\n        expertise: value\n      });\n    };\n\n    _this.handleOtherSpecialty = function (e, selection) {\n      _this.setState({\n        otherSpecialty: e.target.value\n      });\n    };\n\n    _this.handleSubmit = function _callee3(e) {\n      var _this$state2, title, location, expertise, otherSpecialty, formData, onboardingResponse, responseJson;\n\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              e.preventDefault();\n              _this$state2 = _this.state, title = _this$state2.title, location = _this$state2.location, expertise = _this$state2.expertise, otherSpecialty = _this$state2.otherSpecialty;\n\n              _this.setState({\n                isSubmitting: true,\n                errors: {},\n                hasSubmitted: true\n              });\n\n              formData = new FormData();\n              formData.append('user_profile_info[title]', title);\n              formData.append('user_profile_info[location]', location);\n              formData.append('user_profile_info[area_of_expertise]', expertise.map(function (exp) {\n                return exp.replace('other_specialty', otherSpecialty);\n              }));\n              _context3.prev = 7;\n              _context3.next = 10;\n              return _regeneratorRuntime.awrap(fetch('/onboarding', {\n                method: 'POST',\n                body: formData,\n                headers: {\n                  'Accept': 'application/json',\n                  'X-CSRF-Token': authenticityToken()\n                }\n              }));\n\n            case 10:\n              onboardingResponse = _context3.sent;\n              _context3.next = 13;\n              return _regeneratorRuntime.awrap(onboardingResponse.json());\n\n            case 13:\n              responseJson = _context3.sent;\n\n              if (responseJson.errors) {\n                _this.setState({\n                  isSubmitting: false,\n                  errors: responseJson.errors\n                });\n              } else {\n                window.location.href = '/research/water';\n              }\n\n              _context3.next = 20;\n              break;\n\n            case 17:\n              _context3.prev = 17;\n              _context3.t0 = _context3[\"catch\"](7);\n\n              _this.setState({\n                isSubmitting: false\n              });\n\n            case 20:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, [[7, 17]]);\n    };\n\n    _this.handleYears = function (e, selection, attr) {\n      _this.setState(_defineProperty({}, attr, selection.value));\n    };\n\n    _this.renderStep = function () {\n      var _React$createElement;\n\n      var _this$state3 = _this.state,\n          currentStep = _this$state3.currentStep,\n          title = _this$state3.title,\n          location = _this$state3.location,\n          expertise = _this$state3.expertise,\n          isSubmitting = _this$state3.isSubmitting,\n          searchQuery = _this$state3.searchQuery,\n          loadingSearch = _this$state3.loadingSearch,\n          loadingLocationSearch = _this$state3.loadingLocationSearch,\n          locationSearchQuery = _this$state3.locationSearchQuery,\n          universityOptions = _this$state3.universityOptions,\n          otherSpecialty = _this$state3.otherSpecialty;\n\n      switch (currentStep) {\n        case 1:\n          return React.createElement(\"div\", {\n            key: currentStep,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 408\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: css(styles.UniversityOnboarding_step1Description),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 409\n            },\n            __self: this\n          }, \"Position\"), React.createElement(\"div\", {\n            className: css(styles.UniversityOnboarding_subdescription),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 412\n            },\n            __self: this\n          }, \"What best describes your role?\"), React.createElement(\"div\", {\n            className: \"custom-dropdown\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 415\n            },\n            __self: this\n          }, React.createElement(Dropdown, {\n            className: css(styles.UniversityOnboarding_dropdown),\n            icon: \"chevron down\",\n            placeholder: \"Position\",\n            fluid: true,\n            selection: true,\n            search: true,\n            options: titleOptions,\n            onChange: _this.handleTitle,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 416\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: css(styles.UniversityOnboarding_continueButtonHolder),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 427\n            },\n            __self: this\n          }, \"\\xA0\", React.createElement(Button, {\n            className: css(styles.UniversityOnboarding_continueButton),\n            type: \"submit\",\n            onClick: _this.incrementStep,\n            disabled: !title || title.length === 0,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 428\n            },\n            __self: this\n          }, \"Continue\")));\n\n        case 2:\n          return React.createElement(\"div\", {\n            key: currentStep,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 441\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: css(styles.UniversityOnboarding_step2Description),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 442\n            },\n            __self: this\n          }, \"Research Institution\"), React.createElement(\"div\", {\n            className: css(styles.UniversityOnboarding_subdescription),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 445\n            },\n            __self: this\n          }, \"Where does your faculty conduct its research?\"), React.createElement(\"div\", {\n            className: \"custom-dropdown\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 448\n            },\n            __self: this\n          }, React.createElement(Dropdown, {\n            icon: React.createElement(Icon, {\n              name: \"search\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 450\n              },\n              __self: this\n            }),\n            className: css(styles.UniversityOnboarding_dropdown, styles.UniversityOnboarding_collegeSearch),\n            placeholder: \"Search Institutions\",\n            fluid: true,\n            selection: true,\n            open: universityOptions.length > 0 && !location,\n            closeOnChange: true,\n            search: _this.handleLocationSearchQuery,\n            options: universityOptions,\n            onChange: _this.handleLocation,\n            searchQuery: locationSearchQuery,\n            onSearchChange: _this.handleLocationSearchChange,\n            loading: loadingLocationSearch,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 449\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: css(styles.UniversityOnboarding_continueButtonHolder),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 465\n            },\n            __self: this\n          }, \"\\xA0\", React.createElement(Button, {\n            className: css(styles.UniversityOnboarding_backButton),\n            type: \"submit\",\n            onClick: _this.decrementStep,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 466\n            },\n            __self: this\n          }, \"Back\"), React.createElement(Button, {\n            className: css(styles.UniversityOnboarding_continueButton),\n            type: \"submit\",\n            onClick: _this.incrementStep,\n            disabled: !location || location.length === 0,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 473\n            },\n            __self: this\n          }, \"Continue\")));\n\n        case 3:\n          var allAreasSelected = _.isEqual(_this.state.expertise, _this.givenExpertiseOptionValues());\n\n          var options = allAreasSelected ? expertiseOptions : // exclude 'All areas' option\n          [{\n            key: 'allAreas',\n            text: 'All areas',\n            value: 'allAreas'\n          }].concat(_toConsumableArray(expertiseOptions));\n          return React.createElement(\"div\", {\n            key: currentStep,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 491\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: css(styles.UniversityOnboarding_step2Description),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 492\n            },\n            __self: this\n          }, \"Faculty Expertise\"), React.createElement(\"div\", {\n            className: css(styles.UniversityOnboarding_subdescription),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 495\n            },\n            __self: this\n          }, \"Where do you focus your efforts on behalf of faculty?\"), React.createElement(\"div\", {\n            className: \"onboarding-dropdown\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 498\n            },\n            __self: this\n          }, React.createElement(Dropdown, {\n            className: css(styles.UniversityOnboarding_expertiseDropdown),\n            icon: \"chevron down\",\n            placeholder: \"Area of expertise\",\n            fluid: true,\n            selection: true,\n            multiple: true,\n            value: _this.state.expertise,\n            options: options,\n            onChange: _this.handleExpertise,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 499\n            },\n            __self: this\n          })), expertise.includes('other_specialty') && React.createElement(\"input\", {\n            className: css(styles.UniversityOnboarding_input),\n            placeholder: \"Specify your specialty...\",\n            value: otherSpecialty,\n            onChange: _this.handleOtherSpecialty,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 512\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: css(styles.UniversityOnboarding_continueButtonHolder),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 518\n            },\n            __self: this\n          }, \"\\xA0\", React.createElement(Button, {\n            className: css(styles.UniversityOnboarding_backButton),\n            type: \"submit\",\n            onClick: _this.decrementStep,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 519\n            },\n            __self: this\n          }, \"Back\"), React.createElement(Button, (_React$createElement = {\n            className: css(styles.UniversityOnboarding_continueButton),\n            type: \"submit\",\n            disabled: isSubmitting,\n            loading: isSubmitting\n          }, _defineProperty(_React$createElement, \"disabled\", (!expertise || expertise.length === 0, expertise.includes('other_specialty') && !otherSpecialty)), _defineProperty(_React$createElement, \"onClick\", _this.handleSubmit), _defineProperty(_React$createElement, \"__source\", {\n            fileName: _jsxFileName,\n            lineNumber: 526\n          }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement), \"Finish\")));\n\n        default:\n          break;\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(UniversityOnboarding, [{\n    key: \"render\",\n    value: function render() {\n      var currentStep = this.state.currentStep;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 552\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: css(styles.UniversityOnboarding_logoBanner),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 553\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: haloLogo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 554\n        },\n        __self: this\n      })), React.createElement(Container, {\n        className: css(styles.UniversityOnboarding_container),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 556\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 557\n        },\n        __self: this\n      }, React.createElement(Grid.Row, {\n        className: css(styles.UniversityOnboarding_steps),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 558\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        className: css(styles.UniversityOnboarding_stepTab, currentStep === 1 && styles.UniversityOnboarding_activeTab),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 559\n        },\n        __self: this\n      }, \"Step 1: Position\"), React.createElement(Grid.Column, {\n        className: css(styles.UniversityOnboarding_stepTab, currentStep === 2 && styles.UniversityOnboarding_activeTab),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 566\n        },\n        __self: this\n      }, \"Step 2: Institution\"), React.createElement(Grid.Column, {\n        className: css(styles.UniversityOnboarding_stepTab, currentStep === 3 && styles.UniversityOnboarding_activeTab),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 573\n        },\n        __self: this\n      }, \"Step 3: Faculty Expertise\"))), React.createElement(\"div\", {\n        className: css(styles.UniversityOnboarding_stepContainer),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 582\n        },\n        __self: this\n      }, this.renderStep())));\n    }\n  }]);\n\n  return UniversityOnboarding;\n}(PureComponent);\n\nexport default UniversityOnboarding;","map":{"version":3,"sources":["/Volumes/Work/work/dev/project/projects/halo/app/javascript/src/universityOnboarding/components/UniversityOnboarding/UniversityOnboarding.jsx"],"names":["React","PureComponent","css","StyleSheet","PropTypes","Container","Form","Radio","Grid","Dropdown","Button","Icon","_","debounce","COLORS","WINDOW_DIMENSIONS","haloLogo","authenticityToken","getCookie","TABLET_LANDSCAPE_MEDIA_QUERY","MOBILE_MEDIA_QUERY","styles","create","UniversityOnboarding_container","marginBottom","padding","UniversityOnboarding_logoBanner","textAlign","backgroundColor","snowWhite","paddingTop","paddingBottom","UniversityOnboarding_stepTab","width","fontSize","fontWeight","lineHeight","color","lightGray","borderBottom","UniversityOnboarding_steps","marginLeft","UniversityOnboarding_activeTab","lightBlack","lightBlue","UniversityOnboarding_stepContainer","margin","UniversityOnboarding_step1Description","UniversityOnboarding_subdescription","UniversityOnboarding_step2Description","UniversityOnboarding_step2Subdescription","darkGray","UniversityOnboarding_radioGroup","UniversityOnboarding_inputContainer","UniversityOnboarding_fieldSublabel","UniversityOnboarding_dropdown","flexWrap","height","display","alignItems","UniversityOnboarding_input","marginTop","UniversityOnboarding_radioButton","UniversityOnboarding_leftInput","marginRight","border","borderColor","inputBorderGray","borderRadius","UniversityOnboarding_rightInput","UniversityOnboarding_radioLabel","UniversityOnboarding_continueButtonHolder","flexDirection","UniversityOnboarding_backButton","white","UniversityOnboarding_continueButton","background","backgroundImage","UniversityOnboarding_expertiseDropdown","minHeight","yearOptions","range","Date","getFullYear","map","year","key","text","value","String","titleOptions","gon","user_title_options","expertiseOptions","areas_of_expertise","UniversityOnboarding","state","currentStep","title","location","expertise","searchQuery","loadingSearch","universityOptions","loadingLocationSearch","locationSearchQuery","otherSpecialty","incrementStep","setState","prevState","decrementStep","handleTitle","e","selection","handleLocation","handleLocationSearchQuery","options","query","uniqBy","concat","filter","university","length","universitySearch","name","fetch","method","headers","response","json","responseJson","universities","leading","trailing","handleLocationSearchChange","givenExpertiseOptionValues","chain","without","handleExpertise","includes","handleOtherSpecialty","target","handleSubmit","preventDefault","isSubmitting","errors","hasSubmitted","formData","FormData","append","exp","replace","body","onboardingResponse","window","href","handleYears","attr","renderStep","UniversityOnboarding_collegeSearch","allAreasSelected","isEqual"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport { css, StyleSheet } from 'aphrodite';\nimport PropTypes from 'prop-types';\nimport { Container, Form, Radio, Grid, Dropdown, Button, Icon } from 'semantic-ui-react';\nimport _, { debounce } from 'lodash';\n\nimport { COLORS, WINDOW_DIMENSIONS } from '../../../../constants';\nimport haloLogo from '../../../../images/logos/halo_logo.svg';\nimport { authenticityToken, getCookie } from '../../../marketplace/utils/requests';\n\nconst { TABLET_LANDSCAPE_MEDIA_QUERY, MOBILE_MEDIA_QUERY } = WINDOW_DIMENSIONS;\n\n\nconst styles = StyleSheet.create({\n  UniversityOnboarding_container: {\n    marginBottom: '100px',\n    [MOBILE_MEDIA_QUERY]: {\n      padding: '0'\n    },\n  },\n  UniversityOnboarding_logoBanner: {\n    textAlign: 'center',\n    backgroundColor: COLORS.snowWhite,\n    paddingTop: '15px',\n    paddingBottom: '15px',\n    marginBottom: '50px',\n  },\n  UniversityOnboarding_stepTab: {\n    width: '33%',\n    textAlign: 'center',\n    fontSize: '14px',\n    fontWeight: 600,\n    lineHeight: '16px',\n    color: COLORS.lightGray,\n    paddingBottom: '33px',\n    borderBottom: `1px solid ${COLORS.lightGray}`,\n    [MOBILE_MEDIA_QUERY]: {\n      paddingBottom: '12px',\n    },\n  },\n  UniversityOnboarding_steps: {\n    [MOBILE_MEDIA_QUERY]: {\n      marginLeft: '0'\n    },\n  },\n  UniversityOnboarding_activeTab: {\n    color: COLORS.lightBlack,\n    borderBottom: `2px solid ${COLORS.lightBlue}`,\n  },\n  UniversityOnboarding_stepContainer: {\n    textAlign: 'center',\n    width: '60%',\n    margin: 'auto',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%'\n    },\n  },\n  UniversityOnboarding_step1Description: {\n    margin: '50px auto 5px',\n    color: COLORS.lightBlack,\n    fontSize: '24px',\n    lineHeight: '32px',\n    fontWeight: 'bold',\n    textAlign: 'left',\n    width: '90%',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%',\n    },\n  },\n  UniversityOnboarding_subdescription: {\n    fontSize: '14px',\n    textAlign: 'left',\n    width: '90%',\n    margin: '0 auto 30px',\n    color: COLORS.lightBlack,\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%'\n    },\n  },\n  UniversityOnboarding_step2Description: {\n    margin: '50px auto 5px',\n    width: '90%',\n    textAlign: 'left',\n    color: COLORS.lightBlack,\n    fontSize: '24px',\n    lineHeight: '32px',\n    fontWeight: 'bold',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%'\n    },\n  },\n  UniversityOnboarding_step2Subdescription: {\n    margin: '0 auto 50px',\n    width: '90%',\n    textAlign: 'left',\n    color: COLORS.darkGray,\n    fontSize: '13px',\n    lineHeight: '24px',\n  },\n  UniversityOnboarding_radioGroup: {\n    textAlign: 'left',\n    marginLeft: '30px',\n  },\n  UniversityOnboarding_inputContainer: {\n    width: '90%',\n    margin: 'auto',\n  },\n  UniversityOnboarding_fieldSublabel: {\n    textAlign: 'left',\n    fontSize: '10px',\n    fontWeight: 500,\n    lineHeight: '24px',\n    color: COLORS.lightGray,\n    margin: '0 auto 5px',\n    width: '90%',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%',\n    },\n  },\n  UniversityOnboarding_dropdown: {\n    width: '90%',\n    margin: 'auto',\n    flexWrap: 'wrap',\n    fontSize: '14px',\n    height: '48px',\n    display: 'flex',\n    alignItems: 'center',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%',\n    },\n  },\n  UniversityOnboarding_input: {\n    width: '90%',\n    margin: 'auto',\n    padding: '10px',\n    fontSize: '14px',\n    marginTop: '10px',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%',\n    },\n  },\n  UniversityOnboarding_radioButton: {\n    marginBottom: '0px',\n  },\n  UniversityOnboarding_leftInput: {\n    width: '48%',\n    marginRight: '4%',\n    display: 'inline-block',\n    padding: '10px',\n    fontSize: '14px',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%',\n      border: '1px solid',\n      borderColor: COLORS.inputBorderGray,\n      borderRadius: '4px',\n      marginBottom: '10px'\n    },\n  },\n  UniversityOnboarding_rightInput: {\n    width: '48%',\n    display: 'inline-block',\n    padding: '10px',\n    fontSize: '14px',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%',\n      border: '1px solid',\n      borderColor: COLORS.inputBorderGray,\n      borderRadius: '4px'\n    },\n  },\n  UniversityOnboarding_radioLabel: {\n    fontSize: '14px',\n  },\n  UniversityOnboarding_continueButtonHolder: {\n    textAlign: 'left',\n    display: 'flex',\n    [MOBILE_MEDIA_QUERY]: {\n      marginTop: '30px',\n      flexDirection: 'column-reverse'\n    },\n  },\n  UniversityOnboarding_backButton: {\n    backgroundColor: COLORS.white,\n    width: '166px',\n    height: '48px',\n    textAlign: 'center',\n    color: COLORS.lightBlack,\n    border: `1px solid ${COLORS.lightGray}`,\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    marginLeft: '4%',\n    marginTop: '50px',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%',\n      marginLeft: '0',\n      marginTop: '8px'\n    },\n  },\n  UniversityOnboarding_continueButton: {\n    background: COLORS.lightBlue,\n    backgroundImage: 'linear-gradient(134.72deg, #4E9DF5 0%, #48B2F4 100%)',\n    width: '166px',\n    height: '48px',\n    textAlign: 'center',\n    color: COLORS.white,\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    marginLeft: '4%',\n    marginTop: '50px',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%',\n      margin: '0'\n    },\n  },\n  UniversityOnboarding_expertiseDropdown: {\n    width: '90%',\n    margin: 'auto',\n    fontSize: '14px',\n    minHeight: '48px',\n    paddingTop: '3px',\n    display: 'flex',\n    alignItems: 'center',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%'\n    },\n  }\n});\n\nconst yearOptions = _.range(new Date().getFullYear(), 1950, -1).map((year) => {\n  return {\n    key: year,\n    text: year,\n    value: String(year),\n  };\n});\n\nconst titleOptions = gon.user_title_options;\n\nconst expertiseOptions = gon.areas_of_expertise;\n\nclass UniversityOnboarding extends PureComponent {\n  state = {\n    currentStep: 1,\n    title: '',\n    location: '',\n    expertise: '',\n    searchQuery: '',\n    loadingSearch: false,\n    universityOptions: [],\n    loadingLocationSearch: false,\n    locationSearchQuery: '',\n    otherSpecialty: '',\n  };\n\n  incrementStep = () => {\n    this.setState((prevState) => {\n      return {\n        currentStep: prevState.currentStep + 1,\n      };\n    })\n  };\n\n  decrementStep = () => {\n    this.setState((prevState) => {\n      return {\n        currentStep: prevState.currentStep - 1,\n      };\n    })\n  };\n\n  handleTitle = (e, selection) => {\n    this.setState({\n      title: selection.value,\n    });\n  };\n\n  handleLocation = (e, selection) => {\n    this.setState({\n      locationSearchQuery: selection.value,\n      location: selection.value,\n    });\n  };\n\n  handleLocationSearchQuery = (options, query) => {\n    const { universityOptions, location } = this.state;\n\n    return _.uniqBy(\n      [{ key: location, text: location, value: location }].concat(universityOptions), 'value')\n      .filter(university => university.value.length > 0);\n  }\n\n  universitySearch = debounce(async (name) => {\n    this.setState({ loadingLocationSearch: true });\n    const response = await fetch(`/universities/search?name=${name}`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n      }\n    });\n    const responseJson = await response.json();\n    const universities = responseJson.universities;\n\n    this.setState({\n      location: '',\n      universityOptions: universities,\n      loadingLocationSearch: false,\n    });\n  }, 500, { leading: true, trailing: true });\n\n  handleLocationSearchChange = async (e, { searchQuery }) => {\n    this.universitySearch(searchQuery);\n\n    this.setState({\n      locationSearchQuery: searchQuery,\n    });\n  };\n\n  givenExpertiseOptionValues = () => {\n    return  _.chain(expertiseOptions)\n             .map('value')\n             .without('other_specialty')\n             .value()\n  }\n\n  handleExpertise = (e, selection) => {\n    const value = selection.value.includes('allAreas') ?\n                    this.givenExpertiseOptionValues() :\n                    selection.value;\n\n    this.setState({\n      expertise: value,\n    });\n  };\n\n  handleOtherSpecialty = (e, selection) => {\n    this.setState({\n      otherSpecialty: e.target.value,\n    })\n  };\n\n  handleSubmit = async (e) => {\n    e.preventDefault();\n    const {\n      title,\n      location,\n      expertise,\n      otherSpecialty,\n    } = this.state;\n\n    this.setState({\n      isSubmitting: true,\n      errors: {},\n      hasSubmitted: true,\n    });\n\n    const formData = new FormData();\n    formData.append('user_profile_info[title]', title);\n    formData.append('user_profile_info[location]', location);\n    formData.append('user_profile_info[area_of_expertise]', expertise.map((exp) => exp.replace('other_specialty', otherSpecialty)));\n\n    try {\n      const onboardingResponse = await fetch('/onboarding', {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Accept': 'application/json',\n          'X-CSRF-Token': authenticityToken(),\n        }\n      });\n      const responseJson = await onboardingResponse.json();\n      if (responseJson.errors) {\n        this.setState({\n          isSubmitting: false,\n          errors: responseJson.errors,\n        });\n      } else {\n        window.location.href = '/research/water';\n      }\n    } catch(err) {\n      this.setState({ isSubmitting: false });\n    }\n  }\n\n  handleYears = (e, selection, attr) => {\n    this.setState({ [attr]: selection.value });\n  };\n\n  renderStep = () => {\n    const {\n      currentStep,\n      title,\n      location,\n      expertise,\n      isSubmitting,\n      searchQuery,\n      loadingSearch,\n      loadingLocationSearch,\n      locationSearchQuery,\n      universityOptions,\n      otherSpecialty,\n    } = this.state;\n\n    switch (currentStep) {\n      case 1:\n        return (\n          <div key={currentStep}>\n            <div className={css(styles.UniversityOnboarding_step1Description)}>\n              Position\n            </div>\n            <div className={css(styles.UniversityOnboarding_subdescription)}>\n              What best describes your role?\n            </div>\n            <div className=\"custom-dropdown\">\n              <Dropdown\n                className={css(styles.UniversityOnboarding_dropdown)}\n                icon=\"chevron down\"\n                placeholder='Position'\n                fluid\n                selection\n                search\n                options={titleOptions}\n                onChange={this.handleTitle}\n              />\n            </div>\n            <div className={css(styles.UniversityOnboarding_continueButtonHolder)}> \n              <Button\n                className={css(styles.UniversityOnboarding_continueButton)}\n                type='submit'\n                onClick={this.incrementStep}\n                disabled={!title || title.length === 0}\n              >\n                Continue\n              </Button>\n            </div>\n          </div>\n        );\n      case 2:\n        return (\n          <div key={currentStep}>\n            <div className={css(styles.UniversityOnboarding_step2Description)}>\n              Research Institution\n            </div>\n            <div className={css(styles.UniversityOnboarding_subdescription)}>\n              Where does your faculty conduct its research?\n            </div>\n            <div className=\"custom-dropdown\">\n              <Dropdown\n                icon={<Icon name='search'/>}\n                className={css(styles.UniversityOnboarding_dropdown, styles.UniversityOnboarding_collegeSearch)}\n                placeholder='Search Institutions'\n                fluid\n                selection\n                open={universityOptions.length > 0 && !location}\n                closeOnChange\n                search={this.handleLocationSearchQuery}\n                options={universityOptions}\n                onChange={this.handleLocation}\n                searchQuery={locationSearchQuery}\n                onSearchChange={this.handleLocationSearchChange}\n                loading={loadingLocationSearch}\n              />\n            </div>\n            <div className={css(styles.UniversityOnboarding_continueButtonHolder)}> \n              <Button\n                className={css(styles.UniversityOnboarding_backButton)}\n                type='submit'\n                onClick={this.decrementStep}\n              >\n                Back\n              </Button>\n              <Button\n                className={css(styles.UniversityOnboarding_continueButton)}\n                type='submit'\n                onClick={this.incrementStep}\n                disabled={!location || location.length === 0}\n              >\n                Continue\n              </Button>\n            </div>\n          </div>\n        );\n      case 3:\n        const allAreasSelected = _.isEqual(this.state.expertise, this.givenExpertiseOptionValues());\n        const options = allAreasSelected ?\n                          expertiseOptions : // exclude 'All areas' option\n                          [{ key: 'allAreas', text: 'All areas', value: 'allAreas'}, ...expertiseOptions]\n\n        return (\n          <div key={currentStep}>\n            <div className={css(styles.UniversityOnboarding_step2Description)}>\n              Faculty Expertise\n            </div>\n            <div className={css(styles.UniversityOnboarding_subdescription)}>\n              Where do you focus your efforts on behalf of faculty?\n            </div>\n            <div className=\"onboarding-dropdown\">\n              <Dropdown\n                className={css(styles.UniversityOnboarding_expertiseDropdown)}\n                icon=\"chevron down\"\n                placeholder='Area of expertise'\n                fluid\n                selection\n                multiple\n                value={this.state.expertise}\n                options={options}\n                onChange={this.handleExpertise}\n              />\n            </div>\n            {expertise.includes('other_specialty') &&\n              <input\n                className={css(styles.UniversityOnboarding_input)}\n                placeholder='Specify your specialty...'\n                value={otherSpecialty}\n                onChange={this.handleOtherSpecialty}\n              />}\n            <div className={css(styles.UniversityOnboarding_continueButtonHolder)}> \n              <Button\n                className={css(styles.UniversityOnboarding_backButton)}\n                type='submit'\n                onClick={this.decrementStep}\n              >\n                Back\n              </Button>\n              <Button\n                className={css(styles.UniversityOnboarding_continueButton)}\n                type='submit'\n                disabled={isSubmitting}\n                loading={isSubmitting}\n                disabled={\n                  !expertise ||\n                  expertise.length === 0,\n                  (expertise.includes('other_specialty') && !otherSpecialty)\n                }\n                onClick={this.handleSubmit}\n              >\n                Finish\n              </Button>\n            </div>\n          </div>\n        );\n      default:\n        break;\n    }\n  };\n\n  render() {\n    const { currentStep } = this.state;\n\n    return (\n      <div>\n        <div className={css(styles.UniversityOnboarding_logoBanner)}>\n          <img src={haloLogo} />\n        </div>\n        <Container className={css(styles.UniversityOnboarding_container)}>\n          <Grid>\n            <Grid.Row className={css(styles.UniversityOnboarding_steps)}>\n              <Grid.Column\n                className={css(\n                  styles.UniversityOnboarding_stepTab,\n                  currentStep === 1 && styles.UniversityOnboarding_activeTab\n                )}>\n                Step 1: Position\n              </Grid.Column>\n              <Grid.Column\n                className={css(\n                  styles.UniversityOnboarding_stepTab,\n                  currentStep === 2 && styles.UniversityOnboarding_activeTab\n                )}>\n                Step 2: Institution\n              </Grid.Column>\n              <Grid.Column\n                className={css(\n                  styles.UniversityOnboarding_stepTab,\n                  currentStep === 3 && styles.UniversityOnboarding_activeTab\n                )}>\n                Step 3: Faculty Expertise\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n          <div className={css(styles.UniversityOnboarding_stepContainer)}>\n            {this.renderStep()}\n          </div>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default UniversityOnboarding;\n"]},"metadata":{},"sourceType":"module"}