{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"/Volumes/Work/work/dev/project/projects/halo/app/javascript/src/marketplace/components/ProposalsDashboard/ProposalDetails.jsx\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { css, StyleSheet } from 'aphrodite';\nimport { Button, Icon, Tab, Menu } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport { authenticityToken } from '../../utils/requests';\nimport { COLORS, PROPOSAL_STATUSES } from '../../../../constants';\nimport ProfileList from '../ProfilePage/ProfileList';\nvar styles = StyleSheet.create({\n  ProposalDetails_resultContainer: {\n    position: 'relative'\n  },\n  ProposalDetails_profilePic: {\n    height: '48px',\n    width: '48px',\n    backgroundColor: COLORS.transparentDarkGray,\n    borderRadius: '48px',\n    position: 'absolute',\n    left: '-70px',\n    top: '0'\n  },\n  ProposalDetails_menuItem: {\n    fontSize: '14px',\n    paddingLeft: '40px',\n    paddingRight: '40px',\n    width: '33%',\n    justifyContent: 'center',\n    paddingBottom: '20px',\n    marginTop: '25px'\n  },\n  ProposalDetails_profileMenuItem: {\n    fontSize: '12px',\n    paddingLeft: '20px',\n    paddingRight: '40px',\n    width: '25%',\n    justifyContent: 'center',\n    paddingBottom: '20px',\n    marginTop: '35px'\n  },\n  ProposalDetails_rowHeader: {\n    position: 'relative'\n  },\n  ProposalDetails_userInfo: {},\n  ProposalDetails_userName: {\n    color: COLORS.lightBlack,\n    fontSize: '12px'\n  },\n  ProposalDetails_phdStatus: {\n    color: COLORS.lightBlack,\n    fontSize: '12px'\n  },\n  ProposalDetails_userTitle: {\n    color: COLORS.subGray,\n    fontSize: '12px'\n  },\n  ProposalDetails_userLocation: {\n    color: COLORS.subGray,\n    fontSize: '12px'\n  },\n  ProposalDetails_sectionHeader: {\n    marginTop: '25px',\n    marginBottom: '12px',\n    fontSize: '12px',\n    lineHeight: '16px',\n    fontWeight: 500,\n    color: COLORS.haloBlack\n  },\n  ProposalDetails_sectionContent: {\n    color: COLORS.haloBlack,\n    fontSize: '12px',\n    lineHeight: '16px',\n    fontWeight: 300\n  },\n  ProposalDetails_showMoreSection: {\n    textAlign: 'left',\n    position: 'absolute',\n    width: '100%',\n    left: '0',\n    bottom: '-160px',\n    marginBottom: '100px'\n  },\n  ProposalDetails_showMoreText: {\n    color: COLORS.haloBlack,\n    fontSize: '12px',\n    cursor: 'pointer'\n  },\n  ProposalDetails_buttonContainer: {\n    position: 'absolute',\n    right: '-20px',\n    top: '5px'\n  },\n  ProposalDetails_contactButton: {\n    color: COLORS.haloBlack,\n    cursor: 'pointer',\n    fontSize: '12px',\n    fontWeight: 500,\n    marginTop: '5px',\n    marginBottom: '20px'\n  },\n  ProposalDetails_declineButton: {\n    borderRadius: '4px',\n    color: COLORS.darkGray,\n    border: \"1px solid \".concat(COLORS.darkGray),\n    backgroundColor: COLORS.snowWhite,\n    fontSize: '14px',\n    cursor: 'pointer',\n    lineHeight: '16px',\n    fontWeight: 500,\n    marginRight: '15px',\n    padding: '5px 16px'\n  },\n  ProposalDetails_advanceButton: {\n    borderRadius: '4px',\n    color: COLORS.white,\n    border: \"1px solid \".concat(COLORS.haloBlue),\n    backgroundColor: COLORS.haloBlue,\n    fontSize: '14px',\n    cursor: 'pointer',\n    lineHeight: '16px',\n    fontWeight: 500,\n    marginRight: '15px',\n    padding: '5px 16px'\n  },\n  ProposalDetails_link: {\n    textDecoration: 'none'\n  },\n  ProposalDetails_shareButton: {\n    marginRight: '15px',\n    cursor: 'pointer'\n  },\n  ProposalDetails_tabMenu: {},\n  ProposalDetails_discussionIntro: {\n    textAlign: 'left',\n    fontSize: '12px',\n    color: COLORS.haloBlack,\n    marginTop: '18px',\n    fontWeight: 300\n  },\n  ProposalDetails_discussionInput: {\n    borderStyle: 'solid',\n    borderWidth: '1px',\n    borderColor: COLORS.inputBorderGray,\n    color: COLORS.darkGray,\n    fontSize: '12px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    height: '48px',\n    marginBottom: '15px',\n    padding: '14px 16px',\n    width: '100%',\n    marginTop: '15px'\n  },\n  ProposalDetails_submissionForm: {},\n  ProposalDetails_discussionButtonContainer: {\n    width: '100%'\n  },\n  ProposalDetails_discussionShareButton: {\n    color: COLORS.white,\n    background: COLORS.haloBlue,\n    fontSize: '12px',\n    fontWeight: 500,\n    padding: '4px 15px',\n    borderRadius: '4px',\n    width: 'fit-content',\n    \"float\": 'right',\n    cursor: 'pointer'\n  },\n  ProposalDetails_messageHeader: {\n    display: 'inline-flex',\n    width: '100%',\n    justifyContent: 'space-between'\n  },\n  ProposalDetails_commentAuthor: {},\n  ProposalDetails_messageOptions: {},\n  ProposalDetails_messageContainer: {\n    padding: '15px 15px 20px'\n  },\n  ProposalDetails_icon: {\n    fontSize: '18px',\n    cursor: 'pointer'\n  },\n  ProposalDetails_messageText: {\n    textAlign: 'left',\n    marginTop: '10px'\n  }\n});\n\nvar ProposalDetails =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(ProposalDetails, _PureComponent);\n\n  function ProposalDetails(props) {\n    var _this;\n\n    _classCallCheck(this, ProposalDetails);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProposalDetails).call(this, props));\n\n    _this.componentDidUpdate = function _callee(prevProps, prevState) {\n      var _this$props, fetchPublications, fetchPatents, fetchFundings, proposal;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$props = _this.props, fetchPublications = _this$props.fetchPublications, fetchPatents = _this$props.fetchPatents, fetchFundings = _this$props.fetchFundings, proposal = _this$props.proposal;\n\n              if (prevProps.proposal.user.id !== proposal.user.id) {// await fetchPublications(proposal.user.id);\n                // await fetchPatents(proposal.user.id);\n                // await fetchFundings(proposal.user.id);\n              }\n\n              if (!(prevProps.proposal.id !== proposal.id)) {\n                _context.next = 5;\n                break;\n              }\n\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(_this.fetchProposalDiscussions(proposal.id));\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    };\n\n    _this.handleTabClick = function (index) {\n      _this.setState({\n        activeTabIndex: index\n      });\n    };\n\n    _this.handleProfileTabClick = function (index) {\n      _this.setState({\n        activeProfileTabIndex: index\n      });\n    };\n\n    _this.advanceProposal = function _callee2(proposal) {\n      var fetchProposals, newStatus, formData, proposalResponse, responseJson;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              fetchProposals = _this.props.fetchProposals;\n              newStatus = proposal.status;\n              _context2.t0 = proposal.status;\n              _context2.next = _context2.t0 === PROPOSAL_STATUSES.PENDING ? 5 : _context2.t0 === PROPOSAL_STATUSES.QUALIFIED ? 7 : 9;\n              break;\n\n            case 5:\n              newStatus = PROPOSAL_STATUSES.QUALIFIED;\n              return _context2.abrupt(\"break\", 10);\n\n            case 7:\n              newStatus = PROPOSAL_STATUSES.SCREENED;\n              return _context2.abrupt(\"break\", 10);\n\n            case 9:\n              return _context2.abrupt(\"break\", 10);\n\n            case 10:\n              ;\n              formData = new FormData();\n              formData.append('proposal_id', proposal.id);\n              formData.append('status', newStatus);\n              _context2.next = 16;\n              return _regeneratorRuntime.awrap(fetch(\"/proposals/\".concat(proposal.id), {\n                method: 'PUT',\n                body: formData,\n                headers: {\n                  'Accept': 'application/json',\n                  'X-CSRF-Token': authenticityToken()\n                }\n              }));\n\n            case 16:\n              proposalResponse = _context2.sent;\n              _context2.next = 19;\n              return _regeneratorRuntime.awrap(proposalResponse.json());\n\n            case 19:\n              responseJson = _context2.sent;\n\n              if (!responseJson.success) {\n                _context2.next = 23;\n                break;\n              }\n\n              _context2.next = 23;\n              return _regeneratorRuntime.awrap(fetchProposals(proposal.request_for_proposal_id));\n\n            case 23:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      });\n    };\n\n    _this.fetchProposalDiscussions = function _callee3(proposalId) {\n      var response, responseJson;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(fetch(\"/proposal_discussions?proposal_id=\".concat(proposalId), {\n                method: 'GET',\n                headers: {\n                  'Accept': 'application/json'\n                }\n              }));\n\n            case 2:\n              response = _context3.sent;\n              _context3.next = 5;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 5:\n              responseJson = _context3.sent;\n\n              _this.setState({\n                proposalDiscussions: responseJson.proposal_discussions\n              });\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      });\n    };\n\n    _this.postProposalDiscussion = function _callee4() {\n      var proposal, discussionText, formData, response, responseJson;\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              proposal = _this.props.proposal;\n              discussionText = _this.state.discussionText;\n              formData = new FormData();\n              formData.append('proposal_id', proposal.id);\n              formData.append('text', discussionText);\n              _context4.next = 7;\n              return _regeneratorRuntime.awrap(fetch('/proposal_discussions', {\n                method: 'POST',\n                body: formData,\n                headers: {\n                  'Accept': 'application/json',\n                  'X-CSRF-Token': authenticityToken()\n                }\n              }));\n\n            case 7:\n              response = _context4.sent;\n              _context4.next = 10;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 10:\n              responseJson = _context4.sent;\n              _context4.next = 13;\n              return _regeneratorRuntime.awrap(_this.fetchProposalDiscussions(proposal.id));\n\n            case 13:\n              _this.setState({\n                discussionText: undefined\n              });\n\n            case 14:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      });\n    };\n\n    _this.deleteProposalDiscussion = function _callee5(proposalId) {\n      var proposal, formData, response, responseJson;\n      return _regeneratorRuntime.async(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              if (!confirm(\"Are you sure you want to delete that message?\")) {\n                _context5.next = 12;\n                break;\n              }\n\n              proposal = _this.props.proposal;\n              formData = new FormData();\n              formData.append('delete', true);\n              _context5.next = 6;\n              return _regeneratorRuntime.awrap(fetch(\"/proposal_discussions/\".concat(proposalId), {\n                method: 'PUT',\n                body: formData,\n                headers: {\n                  'Accept': 'application/json',\n                  'X-CSRF-Token': authenticityToken()\n                }\n              }));\n\n            case 6:\n              response = _context5.sent;\n              _context5.next = 9;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 9:\n              responseJson = _context5.sent;\n              _context5.next = 12;\n              return _regeneratorRuntime.awrap(_this.fetchProposalDiscussions(proposal.id));\n\n            case 12:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      });\n    };\n\n    _this.updateProposalDiscussion = function _callee6() {\n      var proposal, formData, response, responseJson;\n      return _regeneratorRuntime.async(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              proposal = _this.props.proposal;\n              formData = new FormData();\n              formData.append('proposal_id', proposal.id);\n              formData.append('text', discussionText);\n              _context6.next = 6;\n              return _regeneratorRuntime.awrap(fetch('/proposal_discussions', {\n                method: 'POST',\n                body: formData,\n                headers: {\n                  'Accept': 'application/json',\n                  'X-CSRF-Token': authenticityToken()\n                }\n              }));\n\n            case 6:\n              response = _context6.sent;\n              _context6.next = 9;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 9:\n              responseJson = _context6.sent;\n              _context6.next = 12;\n              return _regeneratorRuntime.awrap(_this.fetchProposalDiscussions(proposal.id));\n\n            case 12:\n              _this.setState({\n                discussionText: undefined\n              });\n\n            case 13:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      });\n    };\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.getPanes = function () {\n      var proposal = _this.props.proposal;\n      var _this$state = _this.state,\n          expanded = _this$state.expanded,\n          activeProfileTabIndex = _this$state.activeProfileTabIndex,\n          proposalDiscussions = _this$state.proposalDiscussions,\n          discussionText = _this$state.discussionText;\n      var panes = [];\n      panes.push({\n        menuItem: React.createElement(Menu.Item, {\n          className: css(styles.ProposalDetails_menuItem),\n          onClick: function onClick() {\n            return _this.handleTabClick(0);\n          },\n          key: \"proposal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 378\n          },\n          __self: this\n        }, \"Proposal\"),\n        render: function render() {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 381\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: css(styles.ProposalDetails_sectionHeader),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 382\n            },\n            __self: this\n          }, \"Hypothesis\"), React.createElement(\"div\", {\n            className: css(styles.ProposalDetails_sectionContent),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 385\n            },\n            __self: this\n          }, proposal.research_hypothesis), React.createElement(\"div\", {\n            className: css(styles.ProposalDetails_sectionHeader),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 388\n            },\n            __self: this\n          }, \"Rationale\"), React.createElement(\"div\", {\n            className: css(styles.ProposalDetails_sectionContent),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 391\n            },\n            __self: this\n          }, proposal.hypothesis_basis), expanded && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n            className: css(styles.ProposalDetails_sectionHeader),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 396\n            },\n            __self: this\n          }, \"Validation Procedure\"), React.createElement(\"div\", {\n            className: css(styles.ProposalDetails_sectionContent),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 399\n            },\n            __self: this\n          }, proposal.validation_procedure), React.createElement(\"div\", {\n            className: css(styles.ProposalDetails_sectionHeader),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 402\n            },\n            __self: this\n          }, \"Next Steps\"), React.createElement(\"div\", {\n            className: css(styles.ProposalDetails_sectionContent),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 405\n            },\n            __self: this\n          }, proposal.future_validation)), React.createElement(\"div\", {\n            className: css(styles.ProposalDetails_showMoreSection),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 410\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: css(styles.ProposalDetails_showMoreText),\n            onClick: function onClick() {\n              return _this.setState({\n                expanded: !_this.state.expanded\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 411\n            },\n            __self: this\n          }, expanded ? \"Hide Proposal\" : \"Full Proposal\", \" \", expanded ? React.createElement(Icon, {\n            style: {\n              fontSize: '16px'\n            },\n            name: \"chevron up\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 415\n            },\n            __self: this\n          }) : React.createElement(Icon, {\n            style: {\n              fontSize: '16px'\n            },\n            name: \"chevron down\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 415\n            },\n            __self: this\n          }))));\n        }\n      });\n      panes.push({\n        menuItem: React.createElement(Menu.Item, {\n          className: css(styles.ProposalDetails_menuItem),\n          onClick: function onClick() {\n            return _this.handleTabClick(1);\n          },\n          key: \"profile\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 424\n          },\n          __self: this\n        }, \"Profile\"),\n        render: function render() {\n          return React.createElement(Tab, {\n            className: css(styles.ProposalDetails_tabMenu),\n            activeIndex: activeProfileTabIndex,\n            menu: {\n              secondary: true,\n              pointing: true\n            },\n            panes: _this.getProfilePanes(),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 427\n            },\n            __self: this\n          });\n        }\n      });\n      panes.push({\n        menuItem: React.createElement(Menu.Item, {\n          className: css(styles.ProposalDetails_menuItem),\n          onClick: function onClick() {\n            return _this.handleTabClick(2);\n          },\n          key: \"discussion\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 433\n          },\n          __self: this\n        }, \"Discussion\"),\n        render: function render() {\n          return React.createElement(\"div\", {\n            style: {\n              color: COLORS.haloBlack,\n              fontSize: '12px',\n              textAlign: 'center'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 436\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: css(styles.ProposalDetails_discussionIntro),\n            style: {\n              marginBottom: proposalDiscussions.length === 0 ? '0px' : '15px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 437\n            },\n            __self: this\n          }, \"Share feedback on the proposal with members of the review team\"), proposalDiscussions.map(function (proposalDiscussion) {\n            var isUser = gon.current_user && gon.current_user.id === proposalDiscussion.user_id;\n            return React.createElement(\"div\", {\n              style: {\n                backgroundColor: isUser ? COLORS.commentBlue : COLORS.white\n              },\n              className: css(styles.ProposalDetails_messageContainer),\n              key: \"proposal-discussion-\".concat(proposalDiscussion.id),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 446\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: css(styles.ProposalDetails_messageHeader),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 451\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: css(styles.ProposalDetails_commentAuthor),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 452\n              },\n              __self: this\n            }, React.createElement(Icon, {\n              className: css(styles.ProposalDetails_icon),\n              style: {\n                cursor: 'initial'\n              },\n              name: \"comment outline\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 453\n              },\n              __self: this\n            }), React.createElement(\"b\", {\n              style: {\n                marginLeft: '8px',\n                marginRight: '6px'\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 454\n              },\n              __self: this\n            }, \"COMMENT POSTED\"), \" by \", proposalDiscussion.user.first_name, \" \", proposalDiscussion.user.last_name), React.createElement(\"div\", {\n              className: css(styles.ProposalDetails_messageOptions),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 456\n              },\n              __self: this\n            }, isUser && React.createElement(Icon, {\n              className: css(styles.ProposalDetails_icon),\n              name: \"trash\",\n              onClick: function onClick() {\n                return _this.deleteProposalDiscussion(proposalDiscussion.id);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 457\n              },\n              __self: this\n            }), React.createElement(\"span\", {\n              style: {\n                marginLeft: '8px'\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 458\n              },\n              __self: this\n            }, moment(proposalDiscussion.created_at).fromNow()))), React.createElement(\"div\", {\n              className: css(styles.ProposalDetails_messageText),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 461\n              },\n              __self: this\n            }, proposalDiscussion.text));\n          }), React.createElement(\"div\", {\n            className: css(styles.ProposalDetails_submissionForm),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 467\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            type: \"text\",\n            name: \"discussionText\",\n            className: css(styles.ProposalDetails_discussionInput),\n            value: discussionText,\n            onChange: _this.handleChange,\n            placeholder: proposalDiscussions.length > 1 ? \"Post a comment\" : \"Leave feedback\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 468\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: css(styles.ProposalDetails_discussionButtonContainer),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 476\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: css(styles.ProposalDetails_discussionShareButton),\n            onClick: _this.postProposalDiscussion,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 477\n            },\n            __self: this\n          }, \"Share\"))));\n        }\n      });\n      return panes;\n    };\n\n    _this.getProfilePanes = function () {\n      var _this$props2 = _this.props,\n          fundings = _this$props2.fundings,\n          publications = _this$props2.publications,\n          patents = _this$props2.patents,\n          proposal = _this$props2.proposal;\n      var panes = [];\n      panes.push({\n        menuItem: React.createElement(Menu.Item, {\n          className: css(styles.ProposalDetails_profileMenuItem),\n          onClick: function onClick() {\n            return _this.handleProfileTabClick(0);\n          },\n          key: \"publications\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 499\n          },\n          __self: this\n        }, \"Publications (\", proposal.publications.length, \")\"),\n        render: function render() {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 502\n            },\n            __self: this\n          }, React.createElement(ProfileList, {\n            itemName: \"Publications\",\n            items: proposal.publications.map(function (p) {\n              return {\n                header: p.title,\n                body: p[\"abstract\"],\n                url: p.url,\n                id: p.id,\n                footerElements: [p.date ? moment(p.date).format('MMMM YYYY') : 'No Date', p.publication_name]\n              };\n            }),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 503\n            },\n            __self: this\n          }));\n        }\n      });\n      panes.push({\n        menuItem: React.createElement(Menu.Item, {\n          className: css(styles.ProposalDetails_profileMenuItem),\n          onClick: function onClick() {\n            return _this.handleProfileTabClick(1);\n          },\n          key: \"fundings\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 519\n          },\n          __self: this\n        }, \"Funding (\", proposal.fundings.length, \")\"),\n        render: function render() {\n          // Create our number formatter.\n          var formatter = new Intl.NumberFormat('en-US', {\n            style: 'currency',\n            currency: 'USD'\n          });\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 528\n            },\n            __self: this\n          }, React.createElement(ProfileList, {\n            itemName: \"Fundings\",\n            items: proposal.fundings.map(function (f) {\n              var header;\n\n              if (f.sponsor) {\n                if (f.sponsor_type === 'foundation') {\n                  header = \"\".concat(f.sponsor.foundation_name, \" - \").concat(f.title);\n                } else if (f.sponsor_type === 'government') {\n                  header = \"\".concat(f.sponsor.org_name, \" - \").concat(f.title);\n                } else {\n                  header = \"\".concat(f.sponsor.company_name, \" - \").concat(f.title);\n                }\n              } else {\n                header = f.title;\n              }\n\n              return {\n                header: header,\n                body: f.description,\n                url: f.url,\n                id: f.id,\n                footerElements: [f.date ? moment(f.date).format('MMMM YYYY') : 'No Date', \"\".concat(formatter.format(Number(f.amount)).split('.')[0]), (f.sponsor || {}).company_name]\n              };\n            }),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 529\n            },\n            __self: this\n          }));\n        }\n      });\n      panes.push({\n        menuItem: React.createElement(Menu.Item, {\n          className: css(styles.ProposalDetails_profileMenuItem),\n          onClick: function onClick() {\n            return _this.handleProfileTabClick(2);\n          },\n          key: \"patents\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 557\n          },\n          __self: this\n        }, \"Patents (\", proposal.patents.length, \")\"),\n        render: function render() {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 560\n            },\n            __self: this\n          }, React.createElement(ProfileList, {\n            itemName: \"Patents\",\n            items: proposal.patents.map(function (p) {\n              var patentStatus = gon.patent_statuses.find(function (ps) {\n                return ps.key === p.status;\n              });\n              var statusText = 'Status: ' + (patentStatus ? patentStatus.text : 'None');\n              var patentFilingDate = p.filing_date ? 'Filing Date: ' + moment.utc(p.filing_date).format('MMMM DD, YYYY') : 'No Date';\n              return {\n                header: p.title,\n                body: p[\"abstract\"],\n                url: p.url,\n                id: p.id,\n                footerElements: [patentFilingDate, null, statusText]\n              };\n            }),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 561\n            },\n            __self: this\n          }));\n        }\n      });\n      return panes;\n    };\n\n    _this.state = {\n      expanded: false,\n      activeTabIndex: 0,\n      activeProfileTabIndex: 0,\n      proposalDiscussions: [],\n      discussionText: undefined\n    };\n\n    if (props.proposal) {\n      _this.fetchProposalDiscussions(props.proposal.id);\n    }\n\n    return _this;\n  }\n\n  _createClass(ProposalDetails, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          proposal = _this$props3.proposal,\n          contactProposer = _this$props3.contactProposer,\n          shareProposal = _this$props3.shareProposal,\n          advanceProposal = _this$props3.advanceProposal;\n      var activeTabIndex = this.state.activeTabIndex;\n      return React.createElement(\"div\", {\n        className: css(styles.ProposalDetails_resultContainer),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 594\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: css(styles.ProposalDetails_rowHeader),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 595\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: css(styles.ProposalDetails_userInfo),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 596\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/profile/\".concat(proposal.user.profile_id),\n        className: css(styles.ProposalDetails_link),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 597\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: css(styles.ProposalDetails_userName),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 601\n        },\n        __self: this\n      }, \"\".concat(proposal.user.first_name, \" \").concat(proposal.user.last_name), React.createElement(\"span\", {\n        className: css(styles.ProposalDetails_phdStatus),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 603\n        },\n        __self: this\n      }, proposal.user.educations && proposal.user.educations.map(function (e) {\n        return e.degree;\n      }).includes('PhD') && ', PhD'))), React.createElement(\"div\", {\n        className: css(styles.ProposalDetails_userTitle),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 606\n        },\n        __self: this\n      }, proposal.user.profile_info && proposal.user.profile_info.title), React.createElement(\"div\", {\n        className: css(styles.ProposalDetails_userLocation),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 609\n        },\n        __self: this\n      }, proposal.user.profile_info && proposal.user.profile_info.location), React.createElement(\"div\", {\n        className: css(styles.ProposalDetails_contactButton),\n        onClick: function onClick() {\n          return contactProposer(proposal, PROPOSAL_STATUSES.CONTACTED);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 612\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"mail outline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 616\n        },\n        __self: this\n      }), \"\\xA0\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 616\n        },\n        __self: this\n      }, \"Contact\"))), React.createElement(\"div\", {\n        className: css(styles.ProposalDetails_buttonContainer),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 619\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        className: css(styles.ProposalDetails_shareButton),\n        name: \"share square\",\n        onClick: function onClick() {\n          return shareProposal(proposal);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 620\n        },\n        __self: this\n      }), proposal.status !== PROPOSAL_STATUSES.SCREENED && proposal.status !== PROPOSAL_STATUSES.DECLINED && React.createElement(Button, {\n        className: css(styles.ProposalDetails_advanceButton),\n        onClick: function onClick() {\n          return _this2.advanceProposal(proposal);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 622\n        },\n        __self: this\n      }, \"Advance\"), proposal.status !== PROPOSAL_STATUSES.DECLINED && React.createElement(Button, {\n        className: css(styles.ProposalDetails_declineButton),\n        onClick: function onClick() {\n          return contactProposer(proposal, PROPOSAL_STATUSES.DECLINED);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 630\n        },\n        __self: this\n      }, \"Decline\"))), proposal.user.profile_info && proposal.user.profile_info.headline && React.createElement(\"div\", {\n        className: css(styles.ProposalDetails_sectionHeader),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 640\n        },\n        __self: this\n      }, proposal.user.profile_info.headline), proposal.user.profile_info && proposal.user.profile_info.about && React.createElement(\"div\", {\n        className: css(styles.ProposalDetails_sectionContent),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 644\n        },\n        __self: this\n      }, proposal.user.profile_info.about), React.createElement(Tab, {\n        className: css(styles.ProposalDetails_tabMenu),\n        activeIndex: activeTabIndex,\n        menu: {\n          secondary: true,\n          pointing: true\n        },\n        panes: this.getPanes(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 647\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ProposalDetails;\n}(PureComponent);\n\nProposalDetails.propTypes = {\n  proposal: PropTypes.object.isRequired\n};\nexport default ProposalDetails;","map":{"version":3,"sources":["/Volumes/Work/work/dev/project/projects/halo/app/javascript/src/marketplace/components/ProposalsDashboard/ProposalDetails.jsx"],"names":["React","PureComponent","PropTypes","css","StyleSheet","Button","Icon","Tab","Menu","Link","moment","authenticityToken","COLORS","PROPOSAL_STATUSES","ProfileList","styles","create","ProposalDetails_resultContainer","position","ProposalDetails_profilePic","height","width","backgroundColor","transparentDarkGray","borderRadius","left","top","ProposalDetails_menuItem","fontSize","paddingLeft","paddingRight","justifyContent","paddingBottom","marginTop","ProposalDetails_profileMenuItem","ProposalDetails_rowHeader","ProposalDetails_userInfo","ProposalDetails_userName","color","lightBlack","ProposalDetails_phdStatus","ProposalDetails_userTitle","subGray","ProposalDetails_userLocation","ProposalDetails_sectionHeader","marginBottom","lineHeight","fontWeight","haloBlack","ProposalDetails_sectionContent","ProposalDetails_showMoreSection","textAlign","bottom","ProposalDetails_showMoreText","cursor","ProposalDetails_buttonContainer","right","ProposalDetails_contactButton","ProposalDetails_declineButton","darkGray","border","snowWhite","marginRight","padding","ProposalDetails_advanceButton","white","haloBlue","ProposalDetails_link","textDecoration","ProposalDetails_shareButton","ProposalDetails_tabMenu","ProposalDetails_discussionIntro","ProposalDetails_discussionInput","borderStyle","borderWidth","borderColor","inputBorderGray","ProposalDetails_submissionForm","ProposalDetails_discussionButtonContainer","ProposalDetails_discussionShareButton","background","ProposalDetails_messageHeader","display","ProposalDetails_commentAuthor","ProposalDetails_messageOptions","ProposalDetails_messageContainer","ProposalDetails_icon","ProposalDetails_messageText","ProposalDetails","props","componentDidUpdate","prevProps","prevState","fetchPublications","fetchPatents","fetchFundings","proposal","user","id","fetchProposalDiscussions","handleTabClick","index","setState","activeTabIndex","handleProfileTabClick","activeProfileTabIndex","advanceProposal","fetchProposals","newStatus","status","PENDING","QUALIFIED","SCREENED","formData","FormData","append","fetch","method","body","headers","proposalResponse","json","responseJson","success","request_for_proposal_id","proposalId","response","proposalDiscussions","proposal_discussions","postProposalDiscussion","discussionText","state","undefined","deleteProposalDiscussion","confirm","updateProposalDiscussion","handleChange","e","target","name","value","getPanes","expanded","panes","push","menuItem","render","research_hypothesis","hypothesis_basis","validation_procedure","future_validation","secondary","pointing","getProfilePanes","length","map","proposalDiscussion","isUser","gon","current_user","user_id","commentBlue","marginLeft","first_name","last_name","created_at","fromNow","text","fundings","publications","patents","p","header","title","url","footerElements","date","format","publication_name","formatter","Intl","NumberFormat","style","currency","f","sponsor","sponsor_type","foundation_name","org_name","company_name","description","Number","amount","split","patentStatus","patent_statuses","find","ps","key","statusText","patentFilingDate","filing_date","utc","contactProposer","shareProposal","profile_id","educations","degree","includes","profile_info","location","CONTACTED","DECLINED","headline","about","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { css, StyleSheet } from 'aphrodite';\nimport { Button, Icon, Tab, Menu } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport {\n  authenticityToken,\n} from '../../utils/requests';\n\nimport { COLORS, PROPOSAL_STATUSES } from '../../../../constants';\n\nimport ProfileList from '../ProfilePage/ProfileList';\n\nconst styles = StyleSheet.create({\n  ProposalDetails_resultContainer: {\n    position: 'relative',\n  },\n  ProposalDetails_profilePic: {\n    height: '48px',\n    width: '48px',\n    backgroundColor: COLORS.transparentDarkGray,\n    borderRadius: '48px',\n    position: 'absolute',\n    left: '-70px',\n    top: '0',\n  },\n  ProposalDetails_menuItem: {\n    fontSize: '14px',\n    paddingLeft: '40px',\n    paddingRight: '40px',\n    width: '33%',\n    justifyContent: 'center',\n    paddingBottom: '20px',\n    marginTop: '25px',\n  },\n  ProposalDetails_profileMenuItem: {\n    fontSize: '12px',\n    paddingLeft: '20px',\n    paddingRight: '40px',\n    width: '25%',\n    justifyContent: 'center',\n    paddingBottom: '20px',\n    marginTop: '35px',\n  },\n  ProposalDetails_rowHeader: {\n    position: 'relative',\n  },\n  ProposalDetails_userInfo: {\n\n  },\n  ProposalDetails_userName: {\n    color: COLORS.lightBlack,\n    fontSize: '12px',\n  },\n  ProposalDetails_phdStatus: {\n    color: COLORS.lightBlack,\n    fontSize: '12px',\n  },\n  ProposalDetails_userTitle: {\n    color: COLORS.subGray,\n    fontSize: '12px',\n  },\n  ProposalDetails_userLocation: {\n    color: COLORS.subGray,\n    fontSize: '12px',\n  },\n  ProposalDetails_sectionHeader: {\n    marginTop: '25px',\n    marginBottom: '12px',\n    fontSize: '12px',\n    lineHeight: '16px',\n    fontWeight: 500,\n    color: COLORS.haloBlack,\n  },\n  ProposalDetails_sectionContent: {\n    color: COLORS.haloBlack,\n    fontSize: '12px',\n    lineHeight: '16px',\n    fontWeight: 300,\n  },\n  ProposalDetails_showMoreSection: {\n    textAlign: 'left',\n    position: 'absolute',\n    width: '100%',\n    left: '0',\n    bottom: '-160px',\n    marginBottom: '100px',\n  },\n  ProposalDetails_showMoreText: {\n    color: COLORS.haloBlack,\n    fontSize: '12px',\n    cursor: 'pointer',\n  },\n  ProposalDetails_buttonContainer: {\n    position: 'absolute',\n    right: '-20px',\n    top: '5px',\n  },\n  ProposalDetails_contactButton: {\n    color: COLORS.haloBlack,\n    cursor: 'pointer',\n    fontSize: '12px',\n    fontWeight: 500,\n    marginTop: '5px',\n    marginBottom: '20px',\n  },\n  ProposalDetails_declineButton: {\n    borderRadius: '4px',\n    color: COLORS.darkGray,\n    border: `1px solid ${COLORS.darkGray}`,\n    backgroundColor: COLORS.snowWhite,\n    fontSize: '14px',\n    cursor: 'pointer',\n    lineHeight: '16px',\n    fontWeight: 500,\n    marginRight: '15px',\n    padding: '5px 16px',\n  },\n  ProposalDetails_advanceButton: {\n    borderRadius: '4px',\n    color: COLORS.white,\n    border: `1px solid ${COLORS.haloBlue}`,\n    backgroundColor: COLORS.haloBlue,\n    fontSize: '14px',\n    cursor: 'pointer',\n    lineHeight: '16px',\n    fontWeight: 500,\n    marginRight: '15px',\n    padding: '5px 16px',\n  },\n  ProposalDetails_link: {\n    textDecoration: 'none',\n  },\n  ProposalDetails_shareButton: {\n    marginRight: '15px',\n    cursor: 'pointer',\n  },\n  ProposalDetails_tabMenu: {\n\n  },\n  ProposalDetails_discussionIntro: {\n    textAlign: 'left',\n    fontSize: '12px',\n    color: COLORS.haloBlack,\n    marginTop: '18px',\n    fontWeight: 300,\n  },\n  ProposalDetails_discussionInput: {\n    borderStyle: 'solid',\n    borderWidth: '1px',\n    borderColor: COLORS.inputBorderGray,\n    color: COLORS.darkGray,\n    fontSize: '12px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    height: '48px',\n    marginBottom: '15px',\n    padding: '14px 16px',\n    width: '100%',\n    marginTop: '15px',\n  },\n  ProposalDetails_submissionForm: {\n\n  },\n  ProposalDetails_discussionButtonContainer: {\n    width: '100%',\n  },\n  ProposalDetails_discussionShareButton: {\n    color: COLORS.white,\n    background: COLORS.haloBlue,\n    fontSize: '12px',\n    fontWeight: 500,\n    padding: '4px 15px',\n    borderRadius: '4px',\n    width: 'fit-content',\n    float: 'right',\n    cursor: 'pointer',\n  },\n  ProposalDetails_messageHeader: {\n    display: 'inline-flex',\n    width: '100%',\n    justifyContent: 'space-between',\n  },\n  ProposalDetails_commentAuthor: {\n\n  },\n  ProposalDetails_messageOptions: {\n\n  },\n  ProposalDetails_messageContainer: {\n    padding: '15px 15px 20px',\n  },\n  ProposalDetails_icon: {\n    fontSize: '18px',\n    cursor: 'pointer',\n  },\n  ProposalDetails_messageText: {\n    textAlign: 'left',\n    marginTop: '10px',\n  },\n});\n\nclass ProposalDetails extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false,\n      activeTabIndex: 0,\n      activeProfileTabIndex: 0,\n      proposalDiscussions: [],\n      discussionText: undefined,\n    };\n    if (props.proposal) {\n      this.fetchProposalDiscussions(props.proposal.id)\n    }\n  }\n\n  componentDidUpdate = async (prevProps, prevState) => {\n    const {\n      fetchPublications,\n      fetchPatents,\n      fetchFundings,\n      proposal,\n    } = this.props;\n\n    if (prevProps.proposal.user.id !== proposal.user.id) {\n      // await fetchPublications(proposal.user.id);\n      // await fetchPatents(proposal.user.id);\n      // await fetchFundings(proposal.user.id);\n    }\n    if (prevProps.proposal.id !== proposal.id) {\n      await this.fetchProposalDiscussions(proposal.id);\n    }\n  }\n\n  handleTabClick = (index) => {\n    this.setState({ activeTabIndex: index });\n  }\n\n  handleProfileTabClick = (index) => {\n    this.setState({ activeProfileTabIndex: index });\n  }\n\n  advanceProposal = async (proposal) => {\n    const {\n      fetchProposals,\n    } = this.props;\n\n    let newStatus = proposal.status;\n    switch (proposal.status) {\n      case PROPOSAL_STATUSES.PENDING:\n        newStatus = PROPOSAL_STATUSES.QUALIFIED;\n        break;\n      case PROPOSAL_STATUSES.QUALIFIED:\n        newStatus = PROPOSAL_STATUSES.SCREENED;\n        break;\n      default:\n        break;\n    };\n\n    const formData = new FormData();\n    formData.append('proposal_id', proposal.id);\n    formData.append('status', newStatus);\n\n    const proposalResponse = await fetch(`/proposals/${proposal.id}`, {\n      method: 'PUT',\n      body: formData,\n      headers: {\n        'Accept': 'application/json',\n        'X-CSRF-Token': authenticityToken(),\n      }\n    });\n    const responseJson = await proposalResponse.json();\n    if (responseJson.success) {\n      await fetchProposals(proposal.request_for_proposal_id);\n    }\n  }\n\n  fetchProposalDiscussions = async (proposalId) => {\n    const response = await fetch(`/proposal_discussions?proposal_id=${proposalId}`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n      }\n    });\n    const responseJson = await response.json();\n\n    this.setState({ proposalDiscussions: responseJson.proposal_discussions });\n  }\n\n  postProposalDiscussion = async () => {\n    const { proposal } = this.props;\n    const { discussionText } = this.state;\n\n    const formData = new FormData();\n    formData.append('proposal_id', proposal.id);\n    formData.append('text', discussionText);\n\n    const response = await fetch('/proposal_discussions', {\n      method: 'POST',\n      body: formData,\n      headers: {\n        'Accept': 'application/json',\n        'X-CSRF-Token': authenticityToken(),\n      },\n    });\n    const responseJson = await response.json();\n\n    await this.fetchProposalDiscussions(proposal.id);\n\n    this.setState({ discussionText: undefined });\n  }\n\n  deleteProposalDiscussion = async (proposalId) => {\n    if (confirm(\"Are you sure you want to delete that message?\")) {\n      const { proposal } = this.props;\n\n      const formData = new FormData();\n      formData.append('delete', true);\n\n      const response = await fetch(`/proposal_discussions/${proposalId}`, {\n        method: 'PUT',\n        body: formData,\n        headers: {\n          'Accept': 'application/json',\n          'X-CSRF-Token': authenticityToken(),\n        },\n      });\n      const responseJson = await response.json();\n\n      await this.fetchProposalDiscussions(proposal.id);\n    }\n  }\n\n  updateProposalDiscussion = async () => {\n    const { proposal } = this.props;\n\n    const formData = new FormData();\n    formData.append('proposal_id', proposal.id);\n    formData.append('text', discussionText);\n\n    const response = await fetch('/proposal_discussions', {\n      method: 'POST',\n      body: formData,\n      headers: {\n        'Accept': 'application/json',\n        'X-CSRF-Token': authenticityToken(),\n      },\n    });\n    const responseJson = await response.json();\n\n    await this.fetchProposalDiscussions(proposal.id);\n\n    this.setState({ discussionText: undefined });\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  getPanes = () => {\n    const {\n      proposal,\n    } = this.props;\n    const {\n      expanded,\n      activeProfileTabIndex,\n      proposalDiscussions,\n      discussionText,\n    } = this.state;\n\n    const panes = [];\n\n    panes.push({\n      menuItem: <Menu.Item className={css(styles.ProposalDetails_menuItem)} onClick={() => this.handleTabClick(0)} key=\"proposal\">Proposal</Menu.Item>,\n      render: () => {\n        return (\n          <div>\n            <div className={css(styles.ProposalDetails_sectionHeader)}>\n              Hypothesis\n            </div>\n            <div className={css(styles.ProposalDetails_sectionContent)}>\n              {proposal.research_hypothesis}\n            </div>\n            <div className={css(styles.ProposalDetails_sectionHeader)}>\n              Rationale\n            </div>\n            <div className={css(styles.ProposalDetails_sectionContent)}>\n              {proposal.hypothesis_basis}\n            </div>\n            {expanded && (\n              <>\n                <div className={css(styles.ProposalDetails_sectionHeader)}>\n                  Validation Procedure\n                </div>\n                <div className={css(styles.ProposalDetails_sectionContent)}>\n                  {proposal.validation_procedure}\n                </div>\n                <div className={css(styles.ProposalDetails_sectionHeader)}>\n                  Next Steps\n                </div>\n                <div className={css(styles.ProposalDetails_sectionContent)}>\n                  {proposal.future_validation}\n                </div>\n              </>\n            )}\n            <div className={css(styles.ProposalDetails_showMoreSection)}>\n              <div\n                className={css(styles.ProposalDetails_showMoreText)}\n                onClick={() => this.setState({ expanded: !this.state.expanded })}\n              >\n                {expanded ? \"Hide Proposal\" : \"Full Proposal\"} {expanded ? <Icon style={{ fontSize: '16px' }} name='chevron up' /> : <Icon style={{ fontSize: '16px' }} name='chevron down' />}\n              </div>\n            </div>\n          </div>\n        );\n      },\n    });\n\n    panes.push({\n      menuItem: <Menu.Item className={css(styles.ProposalDetails_menuItem)} onClick={() => this.handleTabClick(1)} key=\"profile\">Profile</Menu.Item>,\n      render: () => {\n        return (\n          <Tab className={css(styles.ProposalDetails_tabMenu)} activeIndex={activeProfileTabIndex} menu={{ secondary: true, pointing: true }} panes={this.getProfilePanes()} />\n        );\n      },\n    });\n\n    panes.push({\n      menuItem: <Menu.Item className={css(styles.ProposalDetails_menuItem)} onClick={() => this.handleTabClick(2)} key=\"discussion\">Discussion</Menu.Item>,\n      render: () => {\n        return (\n          <div style={{ color: COLORS.haloBlack, fontSize: '12px', textAlign: 'center' }}>\n            <div\n              className={css(styles.ProposalDetails_discussionIntro)}\n              style={{ marginBottom: proposalDiscussions.length === 0 ? '0px' : '15px' }}\n            >\n              Share feedback on the proposal with members of the review team\n            </div>\n            {proposalDiscussions.map((proposalDiscussion) => {\n              const isUser = gon.current_user && gon.current_user.id === proposalDiscussion.user_id;\n              return (\n                <div\n                  style={{ backgroundColor: isUser ? COLORS.commentBlue : COLORS.white }}\n                  className={css(styles.ProposalDetails_messageContainer)}\n                  key={`proposal-discussion-${proposalDiscussion.id}`}\n                >\n                  <div className={css(styles.ProposalDetails_messageHeader)}>\n                    <div className={css(styles.ProposalDetails_commentAuthor)}>\n                      <Icon className={css(styles.ProposalDetails_icon)} style={{ cursor: 'initial' }} name='comment outline' />\n                      <b style={{ marginLeft: '8px', marginRight: '6px' }}>COMMENT POSTED</b> by {proposalDiscussion.user.first_name} {proposalDiscussion.user.last_name}\n                    </div>\n                    <div className={css(styles.ProposalDetails_messageOptions)}>\n                      {isUser && <Icon className={css(styles.ProposalDetails_icon)} name='trash' onClick={() => this.deleteProposalDiscussion(proposalDiscussion.id)} />}\n                      <span style={{ marginLeft: '8px' }}>{moment(proposalDiscussion.created_at).fromNow()}</span   >\n                    </div>\n                  </div>\n                  <div className={css(styles.ProposalDetails_messageText)}>\n                    {proposalDiscussion.text}\n                  </div>\n                </div>\n              );\n            })}\n            <div className={css(styles.ProposalDetails_submissionForm)}>\n              <input\n                type=\"text\"\n                name=\"discussionText\"\n                className={css(styles.ProposalDetails_discussionInput)}\n                value={discussionText}\n                onChange={this.handleChange}\n                placeholder={proposalDiscussions.length > 1 ? \"Post a comment\" : \"Leave feedback\"}\n              />\n              <div className={css(styles.ProposalDetails_discussionButtonContainer)}>\n                <div className={css(styles.ProposalDetails_discussionShareButton)} onClick={this.postProposalDiscussion}>Share</div>\n              </div>\n            </div>\n          </div>\n        );\n      },\n    })\n\n    return panes;\n  };\n\n  getProfilePanes = () => {\n    const {\n      fundings,\n      publications,\n      patents,\n      proposal,\n    } = this.props;\n\n    const panes = [];\n\n    panes.push({\n      menuItem: <Menu.Item className={css(styles.ProposalDetails_profileMenuItem)} onClick={() => this.handleProfileTabClick(0)} key=\"publications\">Publications ({proposal.publications.length})</Menu.Item>,\n      render: () => {\n        return (\n          <div>\n            <ProfileList itemName='Publications' items={proposal.publications.map((p) => {\n                return {\n                  header: p.title,\n                  body: p.abstract,\n                  url: p.url,\n                  id: p.id,\n                  footerElements: [p.date ? moment(p.date).format('MMMM YYYY') : 'No Date', p.publication_name],\n                };\n              })}\n            />\n          </div>\n        );\n      },\n    });\n\n    panes.push({\n      menuItem: <Menu.Item className={css(styles.ProposalDetails_profileMenuItem)} onClick={() => this.handleProfileTabClick(1)} key=\"fundings\">Funding ({proposal.fundings.length})</Menu.Item>,\n      render: () => {\n        // Create our number formatter.\n        const formatter = new Intl.NumberFormat('en-US', {\n          style: 'currency',\n          currency: 'USD',\n        });\n\n        return (\n          <div>\n            <ProfileList itemName='Fundings' items={proposal.fundings.map((f) => {\n                let header;\n                if (f.sponsor) {\n                  if (f.sponsor_type === 'foundation') {\n                    header = `${f.sponsor.foundation_name} - ${f.title}`;\n                  } else if (f.sponsor_type === 'government') {\n                    header = `${f.sponsor.org_name} - ${f.title}`;\n                  } else {\n                    header = `${f.sponsor.company_name} - ${f.title}`;\n                  }\n                } else {\n                  header = f.title;\n                }\n                return {\n                  header,\n                  body: f.description,\n                  url: f.url,\n                  id: f.id,\n                  footerElements: [f.date ? moment(f.date).format('MMMM YYYY') : 'No Date', `${formatter.format(Number(f.amount)).split('.')[0]}`, (f.sponsor || {}).company_name],\n                };\n              })}\n            />\n          </div>\n        );\n      }\n    });\n\n    panes.push({\n      menuItem: <Menu.Item className={css(styles.ProposalDetails_profileMenuItem)} onClick={() => this.handleProfileTabClick(2)} key=\"patents\">Patents ({proposal.patents.length})</Menu.Item>,\n      render: () => {\n        return (\n          <div>\n            <ProfileList\n              itemName='Patents'\n              items={proposal.patents.map((p) => {\n                const patentStatus = gon.patent_statuses.find(ps => ps.key === p.status);\n                const statusText = 'Status: ' + (patentStatus ? patentStatus.text : 'None');\n                const patentFilingDate = (p.filing_date ? 'Filing Date: ' + moment.utc(p.filing_date).format('MMMM DD, YYYY') : 'No Date');\n                return {\n                  header: p.title,\n                  body: p.abstract,\n                  url: p.url,\n                  id: p.id,\n                  footerElements: [patentFilingDate, null, statusText]\n                };\n              })}\n            />\n          </div>\n        );\n      }\n    });\n\n    return panes;\n  };\n\n  render() {\n    const {\n      proposal,\n      contactProposer,\n      shareProposal,\n      advanceProposal,\n    } = this.props;\n    const { activeTabIndex } = this.state;\n\n    return (\n      <div className={css(styles.ProposalDetails_resultContainer)}>\n        <div className={css(styles.ProposalDetails_rowHeader)}>\n          <div className={css(styles.ProposalDetails_userInfo)}>\n            <Link\n              to={`/profile/${proposal.user.profile_id}`}\n              className={css(styles.ProposalDetails_link)}\n            >\n              <div className={css(styles.ProposalDetails_userName)}>\n                {`${proposal.user.first_name} ${proposal.user.last_name}`}\n                <span className={css(styles.ProposalDetails_phdStatus)}>{proposal.user.educations && proposal.user.educations.map(e => e.degree).includes('PhD') && ', PhD'}</span>\n              </div>\n            </Link>\n            <div className={css(styles.ProposalDetails_userTitle)}>\n              {proposal.user.profile_info && proposal.user.profile_info.title}\n            </div>\n            <div className={css(styles.ProposalDetails_userLocation)}>\n              {proposal.user.profile_info && proposal.user.profile_info.location}\n            </div>\n            <div\n              className={css(styles.ProposalDetails_contactButton)}\n              onClick={() => contactProposer(proposal, PROPOSAL_STATUSES.CONTACTED)}\n            >\n              <Icon name='mail outline' />&nbsp;<span>Contact</span>\n            </div>\n          </div>\n          <div className={css(styles.ProposalDetails_buttonContainer)}>\n            <Icon className={css(styles.ProposalDetails_shareButton)} name=\"share square\" onClick={() => shareProposal(proposal)} />\n            {proposal.status !== PROPOSAL_STATUSES.SCREENED && proposal.status !== PROPOSAL_STATUSES.DECLINED &&\n              <Button\n                className={css(styles.ProposalDetails_advanceButton)}\n                onClick={() => this.advanceProposal(proposal)}\n              >\n                Advance\n              </Button>\n            }\n            {proposal.status !== PROPOSAL_STATUSES.DECLINED &&\n              <Button\n                className={css(styles.ProposalDetails_declineButton)}\n                onClick={() => contactProposer(proposal, PROPOSAL_STATUSES.DECLINED)}\n              >\n                Decline\n              </Button>\n            }\n          </div>\n        </div>\n        {proposal.user.profile_info && proposal.user.profile_info.headline &&\n          <div className={css(styles.ProposalDetails_sectionHeader)}>\n            {proposal.user.profile_info.headline}\n          </div>}\n        {proposal.user.profile_info && proposal.user.profile_info.about &&\n          <div className={css(styles.ProposalDetails_sectionContent)}>\n            {proposal.user.profile_info.about}\n          </div>}\n        <Tab className={css(styles.ProposalDetails_tabMenu)} activeIndex={activeTabIndex} menu={{ secondary: true, pointing: true }} panes={this.getPanes()} />\n\n      </div>\n    );\n  }\n}\n\nProposalDetails.propTypes = {\n  proposal: PropTypes.object.isRequired,\n};\n\nexport default ProposalDetails;\n"]},"metadata":{},"sourceType":"module"}