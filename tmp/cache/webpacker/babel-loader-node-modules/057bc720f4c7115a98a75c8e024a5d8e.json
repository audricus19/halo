{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"/Volumes/Work/work/dev/project/projects/halo/app/javascript/src/marketplace/components/RFPPage/ComingSoonModal.jsx\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { css, StyleSheet } from 'aphrodite';\nimport { Modal, Button, Icon, Container } from 'semantic-ui-react';\nimport _ from 'lodash';\nimport { COLORS } from '../../../../constants';\nimport { authenticityToken } from '../../utils/requests';\nimport baxterLogo from '../../../../images/logos/baxter.png';\nvar styles = StyleSheet.create({\n  ComingSoonModal_dimmer: {\n    position: 'absolute',\n    height: '100%',\n    width: '100%',\n    backgroundColor: COLORS.white,\n    opacity: '0.95',\n    zIndex: 100,\n    filter: 'blur(80px)',\n    '-webkitFilter': 'blur(80px)'\n  },\n  ComingSoonModal_modal: {\n    width: '480px',\n    height: '455px'\n  },\n  ComingSoonModal_modalInput: {\n    width: '100%',\n    margin: '0px auto 24px',\n    padding: '15px 10px',\n    fontSize: '14px',\n    lineHeight: '20px',\n    borderStyle: 'solid',\n    borderWidth: '1px'\n  },\n  ComingSoonModal_modalSubmitButton: {\n    background: COLORS.lightBlue,\n    backgroundImage: 'linear-gradient(134.72deg, #4E9DF5 0%, #48B2F4 100%)',\n    display: 'inline-block',\n    height: '48px',\n    textAlign: 'center',\n    color: COLORS.white,\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    padding: '5px 50px',\n    width: '100%',\n    marginBottom: '15px'\n  },\n  ComingSoonModal_modalButtonHolder: {\n    width: '100%',\n    display: 'inline-block',\n    textAlign: 'right'\n  },\n  ComingSoonModal_header: {\n    fontSize: '18px',\n    color: COLORS.lightBlack,\n    textAlign: 'center',\n    margin: '34px auto 14px'\n  },\n  ComingSoonModal_subheader: {\n    fontSize: '14px',\n    margin: '0px auto 40px',\n    textAlign: 'center'\n  },\n  ComingSoonModal_smallText: {\n    fontSize: '12px',\n    textAlign: 'center',\n    margin: '0px auto 15px'\n  },\n  ComingSoonModal_logo: {\n    width: '82px',\n    height: '14px'\n  },\n  ComingSoonModal_logoContainer: {\n    textAlign: 'center',\n    marginBottom: '50px'\n  },\n  ComingSoonModal_boldFont: {\n    fontWeight: 'bold',\n    fontSize: '18px',\n    color: COLORS.lightBlack,\n    textAlign: 'center'\n  },\n  ComingSoonModal_checkIcon: {\n    textAlign: 'center',\n    margin: '15px auto'\n  }\n});\nvar initialState = {\n  email: '',\n  isContacted: false\n};\n\nvar ComingSoonModal =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(ComingSoonModal, _PureComponent);\n\n  function ComingSoonModal(props) {\n    var _this;\n\n    _classCallCheck(this, ComingSoonModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ComingSoonModal).call(this, props));\n\n    _this.componentDidUpdate = function (prevProps) {\n      if (prevProps.open !== _this.props.open) {\n        _this.setState(initialState);\n      }\n    };\n\n    _this.handleSubmit = function _callee(e) {\n      var _this$props, requestForProposal, currentUser, isLoggedIn, email, formData, response, responseJson;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$props = _this.props, requestForProposal = _this$props.requestForProposal, currentUser = _this$props.currentUser, isLoggedIn = _this$props.isLoggedIn;\n              e.preventDefault();\n              email = _this.state.email;\n\n              _this.setState({\n                isContacted: true\n              });\n\n              formData = new FormData();\n              formData.append('email', isLoggedIn ? currentUser.email : email);\n              formData.append('request_for_proposal_id', requestForProposal.id);\n              _context.prev = 7;\n              _context.next = 10;\n              return _regeneratorRuntime.awrap(fetch('/request_for_proposals/waitlist', {\n                method: 'POST',\n                body: formData,\n                headers: {\n                  'Accept': 'application/json',\n                  'X-CSRF-Token': authenticityToken()\n                }\n              }));\n\n            case 10:\n              response = _context.sent;\n              _context.next = 13;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 13:\n              responseJson = _context.sent;\n              _context.next = 19;\n              break;\n\n            case 16:\n              _context.prev = 16;\n              _context.t0 = _context[\"catch\"](7);\n\n              _this.setState({\n                isContacted: false\n              });\n\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[7, 16]]);\n    };\n\n    _this.handleChange = function (e, attr) {\n      _this.setState(_defineProperty({}, attr, e.target.value));\n    };\n\n    _this.state = initialState;\n    return _this;\n  }\n\n  _createClass(ComingSoonModal, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          open = _this$props2.open,\n          requestForProposal = _this$props2.requestForProposal,\n          isLoggedIn = _this$props2.isLoggedIn;\n      var _this$state = this.state,\n          email = _this$state.email,\n          isContacted = _this$state.isContacted;\n      return React.createElement(React.Fragment, null, open && React.createElement(\"div\", {\n        className: css(styles.ComingSoonModal_dimmer),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }), React.createElement(Modal, {\n        open: open,\n        size: \"small\",\n        className: \"\".concat(css(styles.ComingSoonModal_modal), \" scrolling\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(Modal.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: css(styles.ComingSoonModal_header),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Industry Call for Proposals\"), React.createElement(\"div\", {\n        className: css(styles.ComingSoonModal_subheader),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"Innovative technologies for water purification, water sensing, and dialysis.\"), React.createElement(\"div\", {\n        className: css(styles.ComingSoonModal_smallText),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"Industry Partner\"), React.createElement(\"div\", {\n        className: css(styles.ComingSoonModal_logoContainer),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: css(styles.ComingSoonModal_logo),\n        src: baxterLogo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      })), isContacted ? React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: css(styles.ComingSoonModal_boldFont),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"All Set!\"), React.createElement(\"div\", {\n        className: css(styles.ComingSoonModal_checkIcon),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"check circle outline\",\n        size: \"huge\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: css(styles.ComingSoonModal_smallText),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, \"You\\u2019ll receive an email when the program is live and your faculty can apply.\")) : React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: css(styles.ComingSoonModal_smallText),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Accepting proposals soon. Get notified when it\\u2019s live.\"), !isLoggedIn && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: css(styles.ComingSoonModal_modalInput),\n        placeholder: \"Enter email\",\n        value: email,\n        type: \"text\",\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'email');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: css(styles.ComingSoonModal_modalButtonHolder),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: css(styles.ComingSoonModal_modalSubmitButton),\n        type: \"submit\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"Notify Me\")))))));\n    }\n  }]);\n\n  return ComingSoonModal;\n}(PureComponent);\n\nComingSoonModal.propTypes = {\n  requestForProposal: PropTypes.object,\n  open: PropTypes.bool,\n  closeComingSoonModal: PropTypes.func\n};\nexport default ComingSoonModal;","map":{"version":3,"sources":["/Volumes/Work/work/dev/project/projects/halo/app/javascript/src/marketplace/components/RFPPage/ComingSoonModal.jsx"],"names":["React","PureComponent","PropTypes","connect","css","StyleSheet","Modal","Button","Icon","Container","_","COLORS","authenticityToken","baxterLogo","styles","create","ComingSoonModal_dimmer","position","height","width","backgroundColor","white","opacity","zIndex","filter","ComingSoonModal_modal","ComingSoonModal_modalInput","margin","padding","fontSize","lineHeight","borderStyle","borderWidth","ComingSoonModal_modalSubmitButton","background","lightBlue","backgroundImage","display","textAlign","color","fontWeight","marginBottom","ComingSoonModal_modalButtonHolder","ComingSoonModal_header","lightBlack","ComingSoonModal_subheader","ComingSoonModal_smallText","ComingSoonModal_logo","ComingSoonModal_logoContainer","ComingSoonModal_boldFont","ComingSoonModal_checkIcon","initialState","email","isContacted","ComingSoonModal","props","componentDidUpdate","prevProps","open","setState","handleSubmit","e","requestForProposal","currentUser","isLoggedIn","preventDefault","state","formData","FormData","append","id","fetch","method","body","headers","response","json","responseJson","handleChange","attr","target","value","propTypes","object","bool","closeComingSoonModal","func"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { css, StyleSheet } from 'aphrodite';\nimport { Modal, Button, Icon, Container } from 'semantic-ui-react';\nimport _ from 'lodash';\nimport { COLORS } from '../../../../constants';\nimport {\n  authenticityToken,\n} from '../../utils/requests';\nimport baxterLogo from '../../../../images/logos/baxter.png';\n\nconst styles = StyleSheet.create({\n  ComingSoonModal_dimmer: {\n    position: 'absolute',\n    height: '100%',\n    width: '100%',\n    backgroundColor: COLORS.white,\n    opacity: '0.95',\n    zIndex: 100,\n    filter: 'blur(80px)',\n    '-webkitFilter': 'blur(80px)',\n  },\n  ComingSoonModal_modal: {\n    width: '480px',\n    height: '455px',\n  },\n  ComingSoonModal_modalInput: {\n    width: '100%',\n    margin: '0px auto 24px',\n    padding: '15px 10px',\n    fontSize: '14px',\n    lineHeight: '20px',\n    borderStyle: 'solid',\n    borderWidth: '1px',\n  },\n  ComingSoonModal_modalSubmitButton: {\n    background: COLORS.lightBlue,\n    backgroundImage: 'linear-gradient(134.72deg, #4E9DF5 0%, #48B2F4 100%)',\n    display: 'inline-block',\n    height: '48px',\n    textAlign: 'center',\n    color: COLORS.white,\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    padding: '5px 50px',\n    width: '100%',\n    marginBottom: '15px',\n  },\n  ComingSoonModal_modalButtonHolder: {\n    width: '100%',\n    display: 'inline-block',\n    textAlign: 'right',\n  },\n  ComingSoonModal_header: {\n    fontSize: '18px',\n    color: COLORS.lightBlack,\n    textAlign: 'center',\n    margin: '34px auto 14px',\n  },\n  ComingSoonModal_subheader: {\n    fontSize: '14px',\n    margin: '0px auto 40px',\n    textAlign: 'center',\n  },\n  ComingSoonModal_smallText: {\n    fontSize: '12px',\n    textAlign: 'center',\n    margin: '0px auto 15px',\n  },\n  ComingSoonModal_logo: {\n    width: '82px',\n    height: '14px',\n  },\n  ComingSoonModal_logoContainer: {\n    textAlign: 'center',\n    marginBottom: '50px',\n  },\n  ComingSoonModal_boldFont: {\n    fontWeight: 'bold',\n    fontSize: '18px',\n    color: COLORS.lightBlack,\n    textAlign: 'center',\n  },\n  ComingSoonModal_checkIcon: {\n    textAlign: 'center',\n    margin: '15px auto',\n  },\n});\n\nconst initialState = {\n  email: '',\n  isContacted: false,\n}\n\nclass ComingSoonModal extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = initialState;\n  }\n\n  componentDidUpdate = (prevProps) => {\n    if (prevProps.open !== this.props.open) {\n      this.setState(initialState);\n    }\n  }\n\n  handleSubmit = async (e) => {\n    const {\n      requestForProposal,\n      currentUser,\n      isLoggedIn,\n    } = this.props;\n\n    e.preventDefault();\n\n    const {\n      email,\n    } = this.state;\n\n    this.setState({\n      isContacted: true,\n    });\n\n    const formData = new FormData();\n    formData.append('email', isLoggedIn ? currentUser.email : email);\n    formData.append('request_for_proposal_id', requestForProposal.id);\n\n    try {\n      const response = await fetch('/request_for_proposals/waitlist', {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Accept': 'application/json',\n          'X-CSRF-Token': authenticityToken(),\n        }\n      });\n      const responseJson = await response.json();\n    } catch(err) {\n      this.setState({ isContacted: false });\n    }\n  }\n\n  handleChange = (e, attr) => {\n    this.setState({ [attr]: e.target.value });\n  };\n\n  render() {\n    const {\n      open,\n      requestForProposal,\n      isLoggedIn,\n    } = this.props;\n\n    const {\n      email,\n      isContacted,\n    } = this.state;\n\n    return (\n      <>\n        {open && <div className={css(styles.ComingSoonModal_dimmer)} />}\n        <Modal\n          open={open}\n          size=\"small\"\n          className={`${css(styles.ComingSoonModal_modal)} scrolling`}\n        >\n          <Modal.Content>\n            <Container>\n              <div className={css(styles.ComingSoonModal_header)}>Industry Call for Proposals</div>\n              <div className={css(styles.ComingSoonModal_subheader)}>\n                Innovative technologies for water purification, water sensing, and dialysis.\n              </div>\n              <div className={css(styles.ComingSoonModal_smallText)}>\n                Industry Partner\n              </div>\n              <div className={css(styles.ComingSoonModal_logoContainer)}>\n                <img className={css(styles.ComingSoonModal_logo)} src={baxterLogo} />\n              </div>\n              {isContacted ? (\n                <>\n                  <div className={css(styles.ComingSoonModal_boldFont)}>\n                    All Set!\n                  </div>\n                  <div className={css(styles.ComingSoonModal_checkIcon)}>\n                    <Icon name=\"check circle outline\" size=\"huge\" />\n                  </div>\n                  <div className={css(styles.ComingSoonModal_smallText)}>\n                    You’ll receive an email when the program is live and your faculty can apply.\n                  </div>\n                </>\n              ) : (\n                <>\n                  <div className={css(styles.ComingSoonModal_smallText)}>\n                    Accepting proposals soon. Get notified when it’s live.\n                  </div>\n                  {!isLoggedIn &&\n                    <div>\n                      <input\n                        className={css(styles.ComingSoonModal_modalInput)}\n                        placeholder='Enter email'\n                        value={email}\n                        type=\"text\"\n                        onChange={(e) => this.handleChange(e, 'email')}\n                      />\n                    </div>\n                  }\n                  <div className={css(styles.ComingSoonModal_modalButtonHolder)}>\n                    <Button\n                      className={css(styles.ComingSoonModal_modalSubmitButton)}\n                      type='submit'\n                      onClick={this.handleSubmit}\n                    >\n                      Notify Me\n                    </Button>\n                  </div>\n                </>\n              )}\n            </Container>\n          </Modal.Content>\n        </Modal>\n      </>\n    );\n  }\n}\n\nComingSoonModal.propTypes = {\n  requestForProposal: PropTypes.object,\n  open: PropTypes.bool,\n  closeComingSoonModal: PropTypes.func,\n};\n\nexport default ComingSoonModal;\n"]},"metadata":{},"sourceType":"module"}