{"ast":null,"code":"console.log(\"Authorization code: \" + gon.authorization_code);\nfetch(\"https://\".concat(process.env.ORCID_URL, \"/oauth/token\"), {\n  method: 'POST',\n  body: JSON.stringify({\n    client_id: process.env.ORCID_CLIENT_ID,\n    client_secret: process.env.ORCID_CLIENT_SECRET,\n    grant_type: 'authorization_code',\n    code: gon.authorization_code\n  }),\n  headers: {\n    'Accept': 'application/json'\n  },\n  mode: 'no-cors'\n}).then(function (response) {\n  return response.json();\n}).then(function (json) {\n  return console.log(json);\n})[\"catch\"](function (err) {\n  console.log(\"Error\"); // window.close();\n});","map":{"version":3,"sources":["/Volumes/Work/work/dev/project/projects/halo/app/javascript/packs/orcidRedirect.js"],"names":["console","log","gon","authorization_code","fetch","process","env","ORCID_URL","method","body","JSON","stringify","client_id","ORCID_CLIENT_ID","client_secret","ORCID_CLIENT_SECRET","grant_type","code","headers","mode","then","response","json","err"],"mappings":"AAAAA,OAAO,CAACC,GAAR,CAAY,yBAAyBC,GAAG,CAACC,kBAAzC;AAEAC,KAAK,mBAAYC,OAAO,CAACC,GAAR,CAAYC,SAAxB,mBACH;AACEC,EAAAA,MAAM,EAAE,MADV;AAEEC,EAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,IAAAA,SAAS,EAAEP,OAAO,CAACC,GAAR,CAAYO,eADJ;AAEnBC,IAAAA,aAAa,EAAET,OAAO,CAACC,GAAR,CAAYS,mBAFR;AAGnBC,IAAAA,UAAU,EAAE,oBAHO;AAInBC,IAAAA,IAAI,EAAEf,GAAG,CAACC;AAJS,GAAf,CAFR;AAQEe,EAAAA,OAAO,EAAE;AACP,cAAU;AADH,GARX;AAWEC,EAAAA,IAAI,EAAE;AAXR,CADG,CAAL,CAcCC,IAdD,CAcM,UAACC,QAAD;AAAA,SAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,CAdN,EAeCF,IAfD,CAeM,UAACE,IAAD;AAAA,SAAUtB,OAAO,CAACC,GAAR,CAAYqB,IAAZ,CAAV;AAAA,CAfN,WAgBO,UAACC,GAAD,EAAS;AACdvB,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EADc,CAEd;AACD,CAnBD","sourcesContent":["console.log(\"Authorization code: \" + gon.authorization_code);\n\nfetch(`https://${process.env.ORCID_URL}/oauth/token`,\n  {\n    method: 'POST',\n    body: JSON.stringify({\n      client_id: process.env.ORCID_CLIENT_ID,\n      client_secret: process.env.ORCID_CLIENT_SECRET,\n      grant_type: 'authorization_code',\n      code: gon.authorization_code,\n    }),\n    headers: {\n      'Accept': 'application/json',\n    },\n    mode: 'no-cors',\n  })\n.then((response) => response.json())\n.then((json) => console.log(json))\n.catch((err) => {\n  console.log(\"Error\");\n  // window.close();\n});\n"]},"metadata":{},"sourceType":"module"}