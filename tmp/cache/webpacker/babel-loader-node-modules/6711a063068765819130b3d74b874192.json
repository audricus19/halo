{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"/Volumes/Work/work/dev/project/projects/halo/app/javascript/src/marketplace/components/ProfilePage/AboutEditModal.jsx\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { css, StyleSheet } from 'aphrodite';\nimport { Modal, Button } from 'semantic-ui-react';\nimport _ from 'lodash';\nimport { COLORS } from '../../../../constants';\nimport { authenticityToken } from '../../utils/requests';\nvar styles = StyleSheet.create({\n  AboutEditModal_modal: {},\n  AboutEditModal_modalFieldLabel: {\n    textAlign: 'left',\n    margin: '10px 0 6px',\n    width: '100%',\n    fontSize: '12px',\n    fontWeight: 500,\n    lineHeight: '16px',\n    color: COLORS.labelGray\n  },\n  AboutEditModal_modalTextArea: {\n    width: '100%',\n    margin: 'auto',\n    padding: '10px',\n    fontSize: '14px',\n    lineHeight: '20px'\n  },\n  AboutEditModal_modalSubmitButton: {\n    background: COLORS.lightBlue,\n    backgroundImage: 'linear-gradient(134.72deg, #4E9DF5 0%, #48B2F4 100%)',\n    display: 'inline-block',\n    height: '48px',\n    textAlign: 'center',\n    color: COLORS.white,\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    padding: '5px 50px'\n  },\n  AboutEditModal_modalButtonHolder: {\n    width: '100%',\n    display: 'inline-block',\n    textAlign: 'right',\n    marginTop: '36px'\n  },\n  AboutEditModal_modalCancelButton: {\n    height: '48px',\n    textAlign: 'center',\n    color: COLORS.lightBlack,\n    backgroundColor: COLORS.white,\n    display: 'inline-block',\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    padding: '5px 50px'\n  }\n});\n\nvar AboutEditModal =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(AboutEditModal, _PureComponent);\n\n  function AboutEditModal(props) {\n    var _this;\n\n    _classCallCheck(this, AboutEditModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AboutEditModal).call(this, props));\n\n    _this.handleSubmitMessage = function _callee(e) {\n      var _this$props, closeModal, userId, text, formData, textResponse, responseJson;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$props = _this.props, closeModal = _this$props.closeModal, userId = _this$props.userId;\n              e.preventDefault();\n              text = _this.state.text;\n\n              _this.setState({\n                aboutEditModalLoading: true\n              });\n\n              formData = new FormData();\n              formData.append('about', text);\n              formData.append('user_id', userId);\n              _context.prev = 7;\n              _context.next = 10;\n              return _regeneratorRuntime.awrap(fetch(\"/user_profile_infos/\".concat(userId), {\n                method: 'PUT',\n                body: formData,\n                headers: {\n                  'Accept': 'application/json',\n                  'X-CSRF-Token': authenticityToken()\n                }\n              }));\n\n            case 10:\n              textResponse = _context.sent;\n              _context.next = 13;\n              return _regeneratorRuntime.awrap(textResponse.json());\n\n            case 13:\n              responseJson = _context.sent;\n\n              if (!responseJson.success) {\n                _this.setState({\n                  aboutEditModalLoading: false\n                });\n              } else {\n                _this.setState({\n                  text: '',\n                  aboutEditModalLoading: false\n                });\n\n                window.location.reload();\n              }\n\n              _context.next = 20;\n              break;\n\n            case 17:\n              _context.prev = 17;\n              _context.t0 = _context[\"catch\"](7);\n\n              _this.setState({\n                aboutEditModalLoading: false\n              });\n\n            case 20:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[7, 17]]);\n    };\n\n    _this.handleChange = function (e, attr) {\n      _this.setState(_defineProperty({}, attr, e.target.value));\n    };\n\n    _this.state = {\n      aboutEditModalLoading: false,\n      text: props.text\n    };\n    return _this;\n  }\n\n  _createClass(AboutEditModal, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.text !== this.props.text) {\n        this.setState({\n          text: this.props.text\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          open = _this$props2.open,\n          proposal = _this$props2.proposal,\n          closeModal = _this$props2.closeModal;\n      var text = this.state.text;\n      var validMessage = !!!text;\n      return React.createElement(Modal, {\n        open: open,\n        onClose: closeModal,\n        size: \"small\",\n        closeOnDimmerClick: false,\n        className: \"\".concat(css(styles.AboutEditModal_modal), \" scrolling\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(Modal.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: css(styles.AboutEditModal_modalFieldLabel),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"About\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        className: css(styles.AboutEditModal_modalTextArea),\n        rows: \"4\",\n        value: text,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'text');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: css(styles.AboutEditModal_modalButtonHolder),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: css(styles.AboutEditModal_modalCancelButton),\n        type: \"submit\",\n        onClick: closeModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Cancel\"), React.createElement(Button, {\n        className: css(styles.AboutEditModal_modalSubmitButton),\n        type: \"submit\",\n        disabled: validMessage,\n        onClick: this.handleSubmitMessage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"Save\"))));\n    }\n  }]);\n\n  return AboutEditModal;\n}(PureComponent);\n\nAboutEditModal.propTypes = {\n  proposal: PropTypes.object,\n  open: PropTypes.bool,\n  closeModal: PropTypes.func\n};\nexport default AboutEditModal;","map":{"version":3,"sources":["/Volumes/Work/work/dev/project/projects/halo/app/javascript/src/marketplace/components/ProfilePage/AboutEditModal.jsx"],"names":["React","PureComponent","PropTypes","connect","css","StyleSheet","Modal","Button","_","COLORS","authenticityToken","styles","create","AboutEditModal_modal","AboutEditModal_modalFieldLabel","textAlign","margin","width","fontSize","fontWeight","lineHeight","color","labelGray","AboutEditModal_modalTextArea","padding","AboutEditModal_modalSubmitButton","background","lightBlue","backgroundImage","display","height","white","AboutEditModal_modalButtonHolder","marginTop","AboutEditModal_modalCancelButton","lightBlack","backgroundColor","AboutEditModal","props","handleSubmitMessage","e","closeModal","userId","preventDefault","text","state","setState","aboutEditModalLoading","formData","FormData","append","fetch","method","body","headers","textResponse","json","responseJson","success","window","location","reload","handleChange","attr","target","value","prevProps","open","proposal","validMessage","propTypes","object","bool","func"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,GAAT,EAAcC,UAAd,QAAgC,WAAhC;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,mBAA9B;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,MAAT,QAAuB,uBAAvB;AACA,SACEC,iBADF,QAEO,sBAFP;AAIA,IAAMC,MAAM,GAAGN,UAAU,CAACO,MAAX,CAAkB;AAC/BC,EAAAA,oBAAoB,EAAE,EADS;AAI/BC,EAAAA,8BAA8B,EAAE;AAC9BC,IAAAA,SAAS,EAAE,MADmB;AAE9BC,IAAAA,MAAM,EAAE,YAFsB;AAG9BC,IAAAA,KAAK,EAAE,MAHuB;AAI9BC,IAAAA,QAAQ,EAAE,MAJoB;AAK9BC,IAAAA,UAAU,EAAE,GALkB;AAM9BC,IAAAA,UAAU,EAAE,MANkB;AAO9BC,IAAAA,KAAK,EAAEZ,MAAM,CAACa;AAPgB,GAJD;AAa/BC,EAAAA,4BAA4B,EAAE;AAC5BN,IAAAA,KAAK,EAAE,MADqB;AAE5BD,IAAAA,MAAM,EAAE,MAFoB;AAG5BQ,IAAAA,OAAO,EAAE,MAHmB;AAI5BN,IAAAA,QAAQ,EAAE,MAJkB;AAK5BE,IAAAA,UAAU,EAAE;AALgB,GAbC;AAoB/BK,EAAAA,gCAAgC,EAAE;AAChCC,IAAAA,UAAU,EAAEjB,MAAM,CAACkB,SADa;AAEhCC,IAAAA,eAAe,EAAE,sDAFe;AAGhCC,IAAAA,OAAO,EAAE,cAHuB;AAIhCC,IAAAA,MAAM,EAAE,MAJwB;AAKhCf,IAAAA,SAAS,EAAE,QALqB;AAMhCM,IAAAA,KAAK,EAAEZ,MAAM,CAACsB,KANkB;AAOhCb,IAAAA,QAAQ,EAAE,MAPsB;AAQhCC,IAAAA,UAAU,EAAE,GARoB;AAShCC,IAAAA,UAAU,EAAE,MAToB;AAUhCI,IAAAA,OAAO,EAAE;AAVuB,GApBH;AAgC/BQ,EAAAA,gCAAgC,EAAE;AAChCf,IAAAA,KAAK,EAAE,MADyB;AAEhCY,IAAAA,OAAO,EAAE,cAFuB;AAGhCd,IAAAA,SAAS,EAAE,OAHqB;AAIhCkB,IAAAA,SAAS,EAAE;AAJqB,GAhCH;AAsC/BC,EAAAA,gCAAgC,EAAE;AAChCJ,IAAAA,MAAM,EAAE,MADwB;AAEhCf,IAAAA,SAAS,EAAE,QAFqB;AAGhCM,IAAAA,KAAK,EAAEZ,MAAM,CAAC0B,UAHkB;AAIhCC,IAAAA,eAAe,EAAE3B,MAAM,CAACsB,KAJQ;AAKhCF,IAAAA,OAAO,EAAE,cALuB;AAMhCX,IAAAA,QAAQ,EAAE,MANsB;AAOhCC,IAAAA,UAAU,EAAE,GAPoB;AAQhCC,IAAAA,UAAU,EAAE,MARoB;AAShCI,IAAAA,OAAO,EAAE;AATuB;AAtCH,CAAlB,CAAf;;IAmDMa,c;;;;;AACJ,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,wFAAMA,KAAN;;AADiB,UAcnBC,mBAdmB,GAcG,iBAAOC,CAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,4BAIhB,MAAKF,KAJW,EAElBG,UAFkB,eAElBA,UAFkB,EAGlBC,MAHkB,eAGlBA,MAHkB;AAMpBF,cAAAA,CAAC,CAACG,cAAF;AAGEC,cAAAA,IATkB,GAUhB,MAAKC,KAVW,CASlBD,IATkB;;AAYpB,oBAAKE,QAAL,CAAc;AACZC,gBAAAA,qBAAqB,EAAE;AADX,eAAd;;AAIMC,cAAAA,QAhBc,GAgBH,IAAIC,QAAJ,EAhBG;AAiBpBD,cAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBN,IAAzB;AACAI,cAAAA,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2BR,MAA3B;AAlBoB;AAAA;AAAA,+CAqBSS,KAAK,+BAAwBT,MAAxB,GAAkC;AAChEU,gBAAAA,MAAM,EAAE,KADwD;AAEhEC,gBAAAA,IAAI,EAAEL,QAF0D;AAGhEM,gBAAAA,OAAO,EAAE;AACP,4BAAU,kBADH;AAEP,kCAAgB5C,iBAAiB;AAF1B;AAHuD,eAAlC,CArBd;;AAAA;AAqBZ6C,cAAAA,YArBY;AAAA;AAAA,+CA6BSA,YAAY,CAACC,IAAb,EA7BT;;AAAA;AA6BZC,cAAAA,YA7BY;;AA8BlB,kBAAI,CAACA,YAAY,CAACC,OAAlB,EAA2B;AACzB,sBAAKZ,QAAL,CAAc;AACZC,kBAAAA,qBAAqB,EAAE;AADX,iBAAd;AAGD,eAJD,MAIO;AACL,sBAAKD,QAAL,CAAc;AACZF,kBAAAA,IAAI,EAAE,EADM;AAEZG,kBAAAA,qBAAqB,EAAE;AAFX,iBAAd;;AAIAY,gBAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD;;AAxCiB;AAAA;;AAAA;AAAA;AAAA;;AA0ClB,oBAAKf,QAAL,CAAc;AAAEC,gBAAAA,qBAAqB,EAAE;AAAzB,eAAd;;AA1CkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAdH;;AAAA,UA4DnBe,YA5DmB,GA4DJ,UAACtB,CAAD,EAAIuB,IAAJ,EAAa;AAC1B,YAAKjB,QAAL,qBAAiBiB,IAAjB,EAAwBvB,CAAC,CAACwB,MAAF,CAASC,KAAjC;AACD,KA9DkB;;AAEjB,UAAKpB,KAAL,GAAa;AACXE,MAAAA,qBAAqB,EAAE,KADZ;AAEXH,MAAAA,IAAI,EAAEN,KAAK,CAACM;AAFD,KAAb;AAFiB;AAMlB;;;;uCAEkBsB,S,EAAW;AAC5B,UAAIA,SAAS,CAACtB,IAAV,KAAmB,KAAKN,KAAL,CAAWM,IAAlC,EAAwC;AACtC,aAAKE,QAAL,CAAc;AAAEF,UAAAA,IAAI,EAAE,KAAKN,KAAL,CAAWM;AAAnB,SAAd;AACD;AACF;;;6BAoDQ;AAAA;;AAAA,yBAKH,KAAKN,KALF;AAAA,UAEL6B,IAFK,gBAELA,IAFK;AAAA,UAGLC,QAHK,gBAGLA,QAHK;AAAA,UAIL3B,UAJK,gBAILA,UAJK;AAAA,UAQLG,IARK,GASH,KAAKC,KATF,CAQLD,IARK;AAWP,UAAMyB,YAAY,GAAG,CAAC,CAAC,CAACzB,IAAxB;AACA,aACE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAEuB,IADR;AAEE,QAAA,OAAO,EAAE1B,UAFX;AAGE,QAAA,IAAI,EAAC,OAHP;AAIE,QAAA,kBAAkB,EAAE,KAJtB;AAKE,QAAA,SAAS,YAAKrC,GAAG,CAACO,MAAM,CAACE,oBAAR,CAAR,eALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOE,oBAAC,KAAD,CAAO,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAET,GAAG,CAACO,MAAM,CAACG,8BAAR,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,SAAS,EAAEV,GAAG,CAACO,MAAM,CAACY,4BAAR,CADhB;AAEE,QAAA,IAAI,EAAC,GAFP;AAGE,QAAA,KAAK,EAAEqB,IAHT;AAIE,QAAA,QAAQ,EAAE,kBAACJ,CAAD;AAAA,iBAAO,MAAI,CAACsB,YAAL,CAAkBtB,CAAlB,EAAqB,MAArB,CAAP;AAAA,SAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAJF,EAYE;AAAK,QAAA,SAAS,EAAEpC,GAAG,CAACO,MAAM,CAACqB,gCAAR,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AACE,QAAA,SAAS,EAAE5B,GAAG,CAACO,MAAM,CAACuB,gCAAR,CADhB;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,OAAO,EAAEO,UAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAQE,oBAAC,MAAD;AACE,QAAA,SAAS,EAAErC,GAAG,CAACO,MAAM,CAACc,gCAAR,CADhB;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,QAAQ,EAAE4C,YAHZ;AAIE,QAAA,OAAO,EAAE,KAAK9B,mBAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF,CAZF,CAPF,CADF;AAwCD;;;;EArH0BtC,a;;AAwH7BoC,cAAc,CAACiC,SAAf,GAA2B;AACzBF,EAAAA,QAAQ,EAAElE,SAAS,CAACqE,MADK;AAEzBJ,EAAAA,IAAI,EAAEjE,SAAS,CAACsE,IAFS;AAGzB/B,EAAAA,UAAU,EAAEvC,SAAS,CAACuE;AAHG,CAA3B;AAMA,eAAepC,cAAf","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { css, StyleSheet } from 'aphrodite';\nimport { Modal, Button } from 'semantic-ui-react';\nimport _ from 'lodash';\nimport { COLORS } from '../../../../constants';\nimport {\n  authenticityToken,\n} from '../../utils/requests';\n\nconst styles = StyleSheet.create({\n  AboutEditModal_modal: {\n\n  },\n  AboutEditModal_modalFieldLabel: {\n    textAlign: 'left',\n    margin: '10px 0 6px',\n    width: '100%',\n    fontSize: '12px',\n    fontWeight: 500,\n    lineHeight: '16px',\n    color: COLORS.labelGray,\n  },\n  AboutEditModal_modalTextArea: {\n    width: '100%',\n    margin: 'auto',\n    padding: '10px',\n    fontSize: '14px',\n    lineHeight: '20px',\n  },\n  AboutEditModal_modalSubmitButton: {\n    background: COLORS.lightBlue,\n    backgroundImage: 'linear-gradient(134.72deg, #4E9DF5 0%, #48B2F4 100%)',\n    display: 'inline-block',\n    height: '48px',\n    textAlign: 'center',\n    color: COLORS.white,\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    padding: '5px 50px',\n  },\n  AboutEditModal_modalButtonHolder: {\n    width: '100%',\n    display: 'inline-block',\n    textAlign: 'right',\n    marginTop: '36px',\n  },\n  AboutEditModal_modalCancelButton: {\n    height: '48px',\n    textAlign: 'center',\n    color: COLORS.lightBlack,\n    backgroundColor: COLORS.white,\n    display: 'inline-block',\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    padding: '5px 50px',\n  },\n});\n\nclass AboutEditModal extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      aboutEditModalLoading: false,\n      text: props.text,\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.text !== this.props.text) {\n      this.setState({ text: this.props.text });\n    }\n  }\n\n  handleSubmitMessage = async (e) => {\n    const {\n      closeModal,\n      userId,\n    } = this.props;\n\n    e.preventDefault();\n\n    const {\n      text,\n    } = this.state;\n\n    this.setState({\n      aboutEditModalLoading: true,\n    });\n\n    const formData = new FormData();\n    formData.append('about', text);\n    formData.append('user_id', userId);\n\n    try {\n      const textResponse = await fetch(`/user_profile_infos/${userId}`, {\n        method: 'PUT',\n        body: formData,\n        headers: {\n          'Accept': 'application/json',\n          'X-CSRF-Token': authenticityToken(),\n        }\n      });\n      const responseJson = await textResponse.json();\n      if (!responseJson.success) {\n        this.setState({\n          aboutEditModalLoading: false,\n        });\n      } else {\n        this.setState({\n          text: '',\n          aboutEditModalLoading: false,\n        });\n        window.location.reload();\n      }\n    } catch(err) {\n      this.setState({ aboutEditModalLoading: false });\n    }\n  }\n\n  handleChange = (e, attr) => {\n    this.setState({ [attr]: e.target.value });\n  };\n\n  render() {\n    const {\n      open,\n      proposal,\n      closeModal,\n    } = this.props;\n\n    const {\n      text,\n    } = this.state;\n\n    const validMessage = !!!text;\n    return (\n      <Modal\n        open={open}\n        onClose={closeModal}\n        size=\"small\"\n        closeOnDimmerClick={false}\n        className={`${css(styles.AboutEditModal_modal)} scrolling`}\n      >\n        <Modal.Content>\n          <div className={css(styles.AboutEditModal_modalFieldLabel)}>\n            About\n          </div>\n          <div>\n            <textarea\n              className={css(styles.AboutEditModal_modalTextArea)}\n              rows=\"4\"\n              value={text}\n              onChange={(e) => this.handleChange(e, 'text')}\n            />\n          </div>\n          <div className={css(styles.AboutEditModal_modalButtonHolder)}>\n            <Button\n              className={css(styles.AboutEditModal_modalCancelButton)}\n              type='submit'\n              onClick={closeModal}\n            >\n              Cancel\n            </Button>\n            <Button\n              className={css(styles.AboutEditModal_modalSubmitButton)}\n              type='submit'\n              disabled={validMessage}\n              onClick={this.handleSubmitMessage}\n            >\n              Save\n            </Button>\n          </div>\n        </Modal.Content>\n      </Modal>\n    );\n  }\n}\n\nAboutEditModal.propTypes = {\n  proposal: PropTypes.object,\n  open: PropTypes.bool,\n  closeModal: PropTypes.func,\n};\n\nexport default AboutEditModal;\n"]},"metadata":{},"sourceType":"module"}